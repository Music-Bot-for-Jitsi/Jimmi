var dt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var C=(t,e,r)=>(dt(t,e,"read from private field"),r?r.call(t):e.get(t)),G=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},U=(t,e,r,n)=>(dt(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{E as Vt,X as Ie,S as Z,i as ee,s as te,e as O,F as Be,a as w,b as M,l as Ge,n as re,f as R,r as zt,G as mt,H as V,g as k,t as me,c as A,d as Ce,u as ve,v as he,w as L,x as j,z as ge,C as vt,A as ht,J as Qt,j as $e,K as Kt,L as Yt,M as gt,q as Xt,N as Zt,O as er,P as tr,Q as rr,T as Ue,U as St,V as We,W as nr}from"./vendor.0afdd21e.js";import{c as Se}from"./index.a31c5a45.js";var ir=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},bt=typeof Symbol!="undefined"&&Symbol,or=ir,ar=function(){return typeof bt!="function"||typeof Symbol!="function"||typeof bt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:or()},lr="Function.prototype.bind called on incompatible ",Je=Array.prototype.slice,sr=Object.prototype.toString,fr="[object Function]",cr=function(e){var r=this;if(typeof r!="function"||sr.call(r)!==fr)throw new TypeError(lr+r);for(var n=Je.call(arguments,1),o,i=function(){if(this instanceof o){var u=r.apply(this,n.concat(Je.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(Je.call(arguments)))},a=Math.max(0,r.length-n.length),l=[],s=0;s<a;s++)l.push("$"+s);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var f=function(){};f.prototype=r.prototype,o.prototype=new f,f.prototype=null}return o},ur=cr,qe=Function.prototype.bind||ur,pr=qe,yr=pr.call(Function.call,Object.prototype.hasOwnProperty),b,be=SyntaxError,wt=Function,ne=TypeError,He=function(t){try{return wt('"use strict"; return ('+t+").constructor;")()}catch{}},z=Object.getOwnPropertyDescriptor;if(z)try{z({},"")}catch{z=null}var Ve=function(){throw new ne},dr=z?function(){try{return arguments.callee,Ve}catch{try{return z(arguments,"callee").get}catch{return Ve}}}():Ve,ie=ar(),W=Object.getPrototypeOf||function(t){return t.__proto__},oe={},mr=typeof Uint8Array=="undefined"?b:W(Uint8Array),ae={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":ie?W([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":wt,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ie?W(W([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!ie?b:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!ie?b:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ie?W(""[Symbol.iterator]()):b,"%Symbol%":ie?Symbol:b,"%SyntaxError%":be,"%ThrowTypeError%":dr,"%TypedArray%":mr,"%TypeError%":ne,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},vr=function t(e){var r;if(e==="%AsyncFunction%")r=He("async function () {}");else if(e==="%GeneratorFunction%")r=He("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=He("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=W(o.prototype))}return ae[e]=r,r},Et={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fe=qe,Me=yr,hr=Fe.call(Function.call,Array.prototype.concat),gr=Fe.call(Function.apply,Array.prototype.splice),At=Fe.call(Function.call,String.prototype.replace),Re=Fe.call(Function.call,String.prototype.slice),Sr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,br=/\\(\\)?/g,wr=function(e){var r=Re(e,0,1),n=Re(e,-1);if(r==="%"&&n!=="%")throw new be("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new be("invalid intrinsic syntax, expected opening `%`");var o=[];return At(e,Sr,function(i,a,l,s){o[o.length]=l?At(s,br,"$1"):a||i}),o},Er=function(e,r){var n=e,o;if(Me(Et,n)&&(o=Et[n],n="%"+o[0]+"%"),Me(ae,n)){var i=ae[n];if(i===oe&&(i=vr(n)),typeof i=="undefined"&&!r)throw new ne("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new be("intrinsic "+e+" does not exist!")},ze=function(e,r){if(typeof e!="string"||e.length===0)throw new ne("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ne('"allowMissing" argument must be a boolean');var n=wr(e),o=n.length>0?n[0]:"",i=Er("%"+o+"%",r),a=i.name,l=i.value,s=!1,f=i.alias;f&&(o=f[0],gr(n,hr([0,1],f)));for(var u=1,m=!0;u<n.length;u+=1){var v=n[u],h=Re(v,0,1),p=Re(v,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new be("property names with quotes must have matching quotes");if((v==="constructor"||!m)&&(s=!0),o+="."+v,a="%"+o+"%",Me(ae,a))l=ae[a];else if(l!=null){if(!(v in l)){if(!r)throw new ne("base intrinsic for "+e+" exists, but the property is not available.");return}if(z&&u+1>=n.length){var y=z(l,v);m=!!y,m&&"get"in y&&!("originalValue"in y.get)?l=y.get:l=l[v]}else m=Me(l,v),l=l[v];m&&!s&&(ae[a]=l)}}return l},_t={exports:{}};(function(t){var e=qe,r=ze,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(m){var v=i(e,o,arguments);if(a&&l){var h=a(v,"length");h.configurable&&l(v,"length",{value:1+s(0,m.length-(arguments.length-1))})}return v};var f=function(){return i(e,n,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f})(_t);var Ot=ze,Pt=_t.exports,Ar=Pt(Ot("String.prototype.indexOf")),_r=function(e,r){var n=Ot(e,!!r);return typeof n=="function"&&Ar(e,".prototype.")>-1?Pt(n):n},Or={},Pr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Or}),xr=Vt(Pr),Qe=typeof Map=="function"&&Map.prototype,Ke=Object.getOwnPropertyDescriptor&&Qe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Te=Qe&&Ke&&typeof Ke.get=="function"?Ke.get:null,Nr=Qe&&Map.prototype.forEach,Ye=typeof Set=="function"&&Set.prototype,Xe=Object.getOwnPropertyDescriptor&&Ye?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,De=Ye&&Xe&&typeof Xe.get=="function"?Xe.get:null,Ir=Ye&&Set.prototype.forEach,Cr=typeof WeakMap=="function"&&WeakMap.prototype,we=Cr?WeakMap.prototype.has:null,$r=typeof WeakSet=="function"&&WeakSet.prototype,Ee=$r?WeakSet.prototype.has:null,Fr=typeof WeakRef=="function"&&WeakRef.prototype,xt=Fr?WeakRef.prototype.deref:null,Mr=Boolean.prototype.valueOf,Rr=Object.prototype.toString,Tr=Function.prototype.toString,Dr=String.prototype.match,Ze=typeof BigInt=="function"?BigInt.prototype.valueOf:null,et=Object.getOwnPropertySymbols,tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lr=Object.prototype.propertyIsEnumerable,Nt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),rt=xr.custom,nt=rt&&Ct(rt)?rt:null,x=typeof Symbol=="function"&&typeof Symbol.toStringTag!="undefined"?Symbol.toStringTag:null,kr=function t(e,r,n,o){var i=r||{};if(Q(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Q(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ft(e,i);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var l=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=l&&l>0&&typeof e=="object")return it(e)?"[Array]":"[Object]";var s=nn(i,n);if(typeof o=="undefined")o=[];else if($t(o,e)>=0)return"[Circular]";function f(T,S,I){if(S&&(o=o.slice(),o.push(S)),I){var D={depth:i.depth};return Q(i,"quoteStyle")&&(D.quoteStyle=i.quoteStyle),t(T,D,n+1,o)}return t(T,i,n+1,o)}if(typeof e=="function"){var u=zr(e),m=Le(e,f);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(m.length>0?" { "+m.join(", ")+" }":"")}if(Ct(e)){var v=Ae?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):tt.call(e);return typeof e=="object"&&!Ae?_e(v):v}if(en(e)){for(var h="<"+String(e.nodeName).toLowerCase(),p=e.attributes||[],y=0;y<p.length;y++)h+=" "+p[y].name+"="+It(jr(p[y].value),"double",i);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+String(e.nodeName).toLowerCase()+">",h}if(it(e)){if(e.length===0)return"[]";var c=Le(e,f);return s&&!rn(c)?"["+at(c,s)+"]":"[ "+c.join(", ")+" ]"}if(Ur(e)){var d=Le(e,f);return d.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+d.join(", ")+" }"}if(typeof e=="object"&&a){if(nt&&typeof e[nt]=="function")return e[nt]();if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Qr(e)){var E=[];return Nr.call(e,function(T,S){E.push(f(S,e,!0)+" => "+f(T,e))}),Mt("Map",Te.call(e),E,s)}if(Xr(e)){var g=[];return Ir.call(e,function(T){g.push(f(T,e))}),Mt("Set",De.call(e),g,s)}if(Kr(e))return ot("WeakMap");if(Zr(e))return ot("WeakSet");if(Yr(e))return ot("WeakRef");if(Jr(e))return _e(f(Number(e)));if(Hr(e))return _e(f(Ze.call(e)));if(qr(e))return _e(Mr.call(e));if(Wr(e))return _e(f(String(e)));if(!Br(e)&&!Gr(e)){var _=Le(e,f),F=Nt?Nt(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",q=!F&&x&&Object(e)===e&&x in e?J(e).slice(8,-1):$?"Object":"",ye=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=ye+(q||$?"["+[].concat(q||[],$||[]).join(": ")+"] ":"");return _.length===0?H+"{}":s?H+"{"+at(_,s)+"}":H+"{ "+_.join(", ")+" }"}return String(e)};function It(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function jr(t){return String(t).replace(/"/g,"&quot;")}function it(t){return J(t)==="[object Array]"&&(!x||!(typeof t=="object"&&x in t))}function Br(t){return J(t)==="[object Date]"&&(!x||!(typeof t=="object"&&x in t))}function Gr(t){return J(t)==="[object RegExp]"&&(!x||!(typeof t=="object"&&x in t))}function Ur(t){return J(t)==="[object Error]"&&(!x||!(typeof t=="object"&&x in t))}function Wr(t){return J(t)==="[object String]"&&(!x||!(typeof t=="object"&&x in t))}function Jr(t){return J(t)==="[object Number]"&&(!x||!(typeof t=="object"&&x in t))}function qr(t){return J(t)==="[object Boolean]"&&(!x||!(typeof t=="object"&&x in t))}function Ct(t){if(Ae)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!tt)return!1;try{return tt.call(t),!0}catch{}return!1}function Hr(t){if(!t||typeof t!="object"||!Ze)return!1;try{return Ze.call(t),!0}catch{}return!1}var Vr=Object.prototype.hasOwnProperty||function(t){return t in this};function Q(t,e){return Vr.call(t,e)}function J(t){return Rr.call(t)}function zr(t){if(t.name)return t.name;var e=Dr.call(Tr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function $t(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Qr(t){if(!Te||!t||typeof t!="object")return!1;try{Te.call(t);try{De.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Kr(t){if(!we||!t||typeof t!="object")return!1;try{we.call(t,we);try{Ee.call(t,Ee)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Yr(t){if(!xt||!t||typeof t!="object")return!1;try{return xt.call(t),!0}catch{}return!1}function Xr(t){if(!De||!t||typeof t!="object")return!1;try{De.call(t);try{Te.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Zr(t){if(!Ee||!t||typeof t!="object")return!1;try{Ee.call(t,Ee);try{we.call(t,we)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function en(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ft(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ft(t.slice(0,e.maxStringLength),e)+n}var o=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,tn);return It(o,"single",e)}function tn(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function _e(t){return"Object("+t+")"}function ot(t){return t+" { ? }"}function Mt(t,e,r,n){var o=n?at(r,n):r.join(", ");return t+" ("+e+") {"+o+"}"}function rn(t){for(var e=0;e<t.length;e++)if($t(t[e],`
`)>=0)return!1;return!0}function nn(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function at(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function Le(t,e){var r=it(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=Q(t,o)?e(t[o],t):""}var i=typeof et=="function"?et(t):[],a;if(Ae){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var s in t)!Q(t,s)||r&&String(Number(s))===s&&s<t.length||Ae&&a["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t)));if(typeof et=="function")for(var f=0;f<i.length;f++)Lr.call(t,i[f])&&n.push("["+e(i[f])+"]: "+e(t[i[f]],t));return n}var lt=ze,le=_r,on=kr,an=lt("%TypeError%"),ke=lt("%WeakMap%",!0),je=lt("%Map%",!0),ln=le("WeakMap.prototype.get",!0),sn=le("WeakMap.prototype.set",!0),fn=le("WeakMap.prototype.has",!0),cn=le("Map.prototype.get",!0),un=le("Map.prototype.set",!0),pn=le("Map.prototype.has",!0),st=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},yn=function(t,e){var r=st(t,e);return r&&r.value},dn=function(t,e,r){var n=st(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},mn=function(t,e){return!!st(t,e)},vn=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new an("Side channel does not contain "+on(i))},get:function(i){if(ke&&i&&(typeof i=="object"||typeof i=="function")){if(e)return ln(e,i)}else if(je){if(r)return cn(r,i)}else if(n)return yn(n,i)},has:function(i){if(ke&&i&&(typeof i=="object"||typeof i=="function")){if(e)return fn(e,i)}else if(je){if(r)return pn(r,i)}else if(n)return mn(n,i);return!1},set:function(i,a){ke&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new ke),sn(e,i,a)):je?(r||(r=new je),un(r,i,a)):(n||(n={key:{},next:null}),dn(n,i,a))}};return o},hn=String.prototype.replace,gn=/%20/g,ft={RFC1738:"RFC1738",RFC3986:"RFC3986"},ct={default:ft.RFC3986,formatters:{RFC1738:function(t){return hn.call(t,gn,"+")},RFC3986:function(t){return String(t)}},RFC1738:ft.RFC1738,RFC3986:ft.RFC3986},Sn=ct,ut=Object.prototype.hasOwnProperty,K=Array.isArray,B=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),bn=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(K(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&o.push(n[i]);r.obj[r.prop]=o}}},Rt=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]!="undefined"&&(n[o]=e[o]);return n},wn=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(K(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ut.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return K(e)&&!K(r)&&(o=Rt(e,n)),K(e)&&K(r)?(r.forEach(function(i,a){if(ut.call(e,a)){var l=e[a];l&&typeof l=="object"&&i&&typeof i=="object"?e[a]=t(l,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var l=r[a];return ut.call(i,a)?i[a]=t(i[a],l,n):i[a]=l,i},o)},En=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},An=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},_n=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var l="",s=0;s<a.length;++s){var f=a.charCodeAt(s);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===Sn.RFC1738&&(f===40||f===41)){l+=a.charAt(s);continue}if(f<128){l=l+B[f];continue}if(f<2048){l=l+(B[192|f>>6]+B[128|f&63]);continue}if(f<55296||f>=57344){l=l+(B[224|f>>12]+B[128|f>>6&63]+B[128|f&63]);continue}s+=1,f=65536+((f&1023)<<10|a.charCodeAt(s)&1023),l+=B[240|f>>18]+B[128|f>>12&63]+B[128|f>>6&63]+B[128|f&63]}return l},On=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],l=Object.keys(a),s=0;s<l.length;++s){var f=l[s],u=a[f];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:a,prop:f}),n.push(u))}return bn(r),e},Pn=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},xn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nn=function(e,r){return[].concat(e,r)},In=function(e,r){if(K(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Tt={arrayToObject:Rt,assign:En,combine:Nn,compact:On,decode:An,encode:_n,isBuffer:xn,isRegExp:Pn,maybeMap:In,merge:wn},Dt=vn,pt=Tt,Oe=ct,Cn=Object.prototype.hasOwnProperty,Lt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Y=Array.isArray,$n=Array.prototype.push,kt=function(t,e){$n.apply(t,Y(e)?e:[e])},Fn=Date.prototype.toISOString,jt=Oe.default,N={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pt.encode,encodeValuesOnly:!1,format:jt,formatter:Oe.formatters[jt],indices:!1,serializeDate:function(e){return Fn.call(e)},skipNulls:!1,strictNullHandling:!1},Mn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Rn=function t(e,r,n,o,i,a,l,s,f,u,m,v,h,p,y){var c=e;if(y.has(e))throw new RangeError("Cyclic object value");if(typeof l=="function"?c=l(r,c):c instanceof Date?c=u(c):n==="comma"&&Y(c)&&(c=pt.maybeMap(c,function(T){return T instanceof Date?u(T):T})),c===null){if(o)return a&&!h?a(r,N.encoder,p,"key",m):r;c=""}if(Mn(c)||pt.isBuffer(c)){if(a){var d=h?r:a(r,N.encoder,p,"key",m);return[v(d)+"="+v(a(c,N.encoder,p,"value",m))]}return[v(r)+"="+v(String(c))]}var E=[];if(typeof c=="undefined")return E;var g;if(n==="comma"&&Y(c))g=[{value:c.length>0?c.join(",")||null:void 0}];else if(Y(l))g=l;else{var _=Object.keys(c);g=s?_.sort(s):_}for(var F=0;F<g.length;++F){var $=g[F],q=typeof $=="object"&&$.value!==void 0?$.value:c[$];if(!(i&&q===null)){var ye=Y(c)?typeof n=="function"?n(r,$):r:r+(f?"."+$:"["+$+"]");y.set(e,!0);var H=Dt();kt(E,t(q,ye,n,o,i,a,l,s,f,u,m,v,h,p,H))}}return E},Tn=function(e){if(!e)return N;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||N.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Oe.default;if(typeof e.format!="undefined"){if(!Cn.call(Oe.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Oe.formatters[n],i=N.filter;return(typeof e.filter=="function"||Y(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:N.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?N.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:N.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?N.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:N.encode,encoder:typeof e.encoder=="function"?e.encoder:N.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:N.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:N.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:N.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:N.strictNullHandling}},Dn=function(t,e){var r=t,n=Tn(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Y(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in Lt?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var s=Lt[l];o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var f=Dt(),u=0;u<o.length;++u){var m=o[u];n.skipNulls&&r[m]===null||kt(a,Rn(r[m],m,s,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var v=a.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),v.length>0?h+v:""},se=Tt,yt=Object.prototype.hasOwnProperty,Ln=Array.isArray,P={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:se.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},kn=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Bt=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},jn="utf8=%26%2310003%3B",Bn="utf8=%E2%9C%93",Gn=function(e,r){var n={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),l=-1,s,f=r.charset;if(r.charsetSentinel)for(s=0;s<a.length;++s)a[s].indexOf("utf8=")===0&&(a[s]===Bn?f="utf-8":a[s]===jn&&(f="iso-8859-1"),l=s,s=a.length);for(s=0;s<a.length;++s)if(s!==l){var u=a[s],m=u.indexOf("]="),v=m===-1?u.indexOf("="):m+1,h,p;v===-1?(h=r.decoder(u,P.decoder,f,"key"),p=r.strictNullHandling?null:""):(h=r.decoder(u.slice(0,v),P.decoder,f,"key"),p=se.maybeMap(Bt(u.slice(v+1),r),function(y){return r.decoder(y,P.decoder,f,"value")})),p&&r.interpretNumericEntities&&f==="iso-8859-1"&&(p=kn(p)),u.indexOf("[]=")>-1&&(p=Ln(p)?[p]:p),yt.call(n,h)?n[h]=se.combine(n[h],p):n[h]=p}return n},Un=function(t,e,r,n){for(var o=n?e:Bt(e,r),i=t.length-1;i>=0;--i){var a,l=t[i];if(l==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,f=parseInt(s,10);!r.parseArrays&&s===""?a={0:o}:!isNaN(f)&&l!==s&&String(f)===s&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(a=[],a[f]=o):a[s]=o}o=a}return o},Wn=function(e,r,n,o){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(i),f=s?i.slice(0,s.index):i,u=[];if(f){if(!n.plainObjects&&yt.call(Object.prototype,f)&&!n.allowPrototypes)return;u.push(f)}for(var m=0;n.depth>0&&(s=l.exec(i))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&yt.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),Un(u,r,n,o)}},Jn=function(e){if(!e)return P;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?P.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?P.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:P.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:P.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:P.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:P.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:P.comma,decoder:typeof e.decoder=="function"?e.decoder:P.decoder,delimiter:typeof e.delimiter=="string"||se.isRegExp(e.delimiter)?e.delimiter:P.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:P.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:P.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:P.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:P.strictNullHandling}},qn=function(t,e){var r=Jn(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Gn(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],s=Wn(l,n[l],r,typeof t=="string");o=se.merge(o,s,r)}return r.allowSparse===!0?o:se.compact(o)},Hn=Dn,Vn=qn,zn=ct,Qn={formats:zn,parse:Vn,stringify:Hn},X,Pe,xe,fe;class Kn{constructor(e,r){G(this,X,void 0);G(this,Pe,void 0);G(this,xe,void 0);G(this,fe,void 0);if(U(this,X,e),U(this,Pe,r.meta.id),!r.commands)throw new Error("Cannot construct JimmiCommand for plugin without commands");U(this,xe,r.commands[C(this,X)].bind(r)),Ie.subscribe(n=>U(this,fe,n))}get name(){return C(this,X)}get pluginId(){return C(this,Pe)}exec(e){C(this,xe).call(this,e.detail)}get description(){return C(this,fe)?C(this,fe).call(this,`plugins.${this.pluginId}.commands.${C(this,X)}.usage`):""}}X=new WeakMap,Pe=new WeakMap,xe=new WeakMap,fe=new WeakMap;function Yn(t){let e,r,n,o;return{c(){var i;e=O("audio"),Be(e.src,r=((i=t[2])==null?void 0:i.source)||void 0)||w(e,"src",r),w(e,"crossorigin","anonymous"),e.controls=!0},m(i,a){M(i,e,a),t[10](e),n||(o=[Ge(e,"canplaythrough",t[9]),Ge(e,"ended",t[3])],n=!0)},p(i,[a]){var l;a&4&&!Be(e.src,r=((l=i[2])==null?void 0:l.source)||void 0)&&w(e,"src",r)},i:re,o:re,d(i){i&&R(e),t[10](null),n=!1,zt(o)}}}function Xn(t,e,r){let n,o,i;const a=[];function l(){return Math.floor(o.gain.value*100)}function s(c){o.gain.value=[0,c/100,1].sort()[1]}function f(){const c=new AudioContext,d=c.createMediaElementSource(i);o=c.createGain();const E=c.createMediaStreamDestination();s(Se.default.initialVolume),d.connect(o).connect(E),navigator.mediaDevices.getUserMedia=async function(){return await c.resume(),E.stream}}async function u(c){c?r(2,n=c):await i.play()}function m(){return n}function v(c){r(1,i.currentTime+=c,i)}function h(){a.length>0?u(a.shift()):r(2,n=null)}mt(f);const p=()=>u();function y(c){V[c?"unshift":"push"](()=>{i=c,r(1,i)})}return r(2,n=null),[u,i,n,h,a,l,s,m,v,p,y]}class Zn extends Z{constructor(e){super();ee(this,e,Xn,Yn,te,{queue:4,getGain:5,setGain:6,play:0,getCurrentTrack:7,forward:8})}get queue(){return this.$$.ctx[4]}get getGain(){return this.$$.ctx[5]}get setGain(){return this.$$.ctx[6]}get play(){return this.$$.ctx[0]}get getCurrentTrack(){return this.$$.ctx[7]}get forward(){return this.$$.ctx[8]}}function ei(t){let e,r,n,o,i=t[0].getDisplayName()+"",a;return{c(){e=O("div"),r=O("div"),r.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',n=k(),o=O("h2"),a=me(i),w(r,"class","w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-indigo-500 text-white flex-shrink-0"),w(o,"class","text-gray-900 break-words text-lg title-font font-medium"),w(e,"class","flex items-center mb-3")},m(l,s){M(l,e,s),A(e,r),A(e,n),A(e,o),A(o,a)},p(l,[s]){s&1&&i!==(i=l[0].getDisplayName()+"")&&Ce(a,i)},i:re,o:re,d(l){l&&R(e)}}}function ti(t,e,r){let{participant:n}=e;return t.$$set=o=>{"participant"in o&&r(0,n=o.participant)},[n]}class ri extends Z{constructor(e){super();ee(this,e,ti,ei,te,{participant:0})}}var ce,ue,pe,Ne;class ni{constructor(e,r,n,o){G(this,ce,void 0);G(this,ue,void 0);G(this,pe,void 0);G(this,Ne,void 0);U(this,ce,e),U(this,ue,r),U(this,Ne,n),U(this,pe,o)}get text(){return C(this,ce)}get params(){const[,...e]=C(this,ce).split(" ");return e}get participant(){return C(this,ue)}respond(e){C(this,Ne)?C(this,pe).call(this,e,C(this,ue).getId()):C(this,pe).call(this,e)}}ce=new WeakMap,ue=new WeakMap,pe=new WeakMap,Ne=new WeakMap;class ii{constructor(e,r){this.audio=e,this.jitsi=r,this.play.bind(this),this.mute.bind(this),this.unmute.bind(this)}async play(){await this.audio.play(),this.unmute()}mute(){}unmute(){}sendMessage(e){this.jitsi.sendMessage(e)}get queue(){return this.audio.queue}get currentTrack(){return this.audio.getCurrentTrack()}set currentTrack(e){this.audio.play(e)}forward(e){this.audio.forward(e)}get volume(){return this.audio.getGain()}set volume(e){this.audio.setGain(e),e&&this.unmute()}}function Gt(t,e,r){const n=t.slice();return n[24]=e[r],n}function Ut(t){let e,r=t[3]("general.participants")+"",n;return{c(){e=O("h1"),n=me(r),w(e,"class","text-gray-900 text-3xl title-font font-medium mb-4")},m(o,i){M(o,e,i),A(e,n)},p(o,i){i&8&&r!==(r=o[3]("general.participants")+"")&&Ce(n,r)},d(o){o&&R(e)}}}function Wt(t){let e,r;return e=new ri({props:{participant:t[24]}}),{c(){ve(e.$$.fragment)},m(n,o){he(e,n,o),r=!0},p(n,o){const i={};o&4&&(i.participant=n[24]),e.$set(i)},i(n){r||(L(e.$$.fragment,n),r=!0)},o(n){j(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function oi(t){let e,r,n,o,i,a,l,s,f,u,m={};a=new Zn({props:m}),t[11](a);let v=t[2].length&&Ut(t),h=t[2],p=[];for(let c=0;c<h.length;c+=1)p[c]=Wt(Gt(t,h,c));const y=c=>j(p[c],1,1,()=>{p[c]=null});return{c(){e=O("div"),r=k(),n=O("div"),o=O("div"),i=O("div"),ve(a.$$.fragment),l=k(),s=O("div"),v&&v.c(),f=k();for(let c=0;c<p.length;c+=1)p[c].c();w(i,"class","w-full sm:w-2/3 md:w-3/4 pt-1 px-2"),w(s,"class","w-full sm:w-1/3 md:w-1/4 px-2"),w(o,"class","flex flex-row flex-wrap py-4"),w(n,"class","container mx-auto")},m(c,d){M(c,e,d),t[10](e),M(c,r,d),M(c,n,d),A(n,o),A(o,i),he(a,i,null),A(o,l),A(o,s),v&&v.m(s,null),A(s,f);for(let E=0;E<p.length;E+=1)p[E].m(s,null);u=!0},p(c,[d]){const E={};if(a.$set(E),c[2].length?v?v.p(c,d):(v=Ut(c),v.c(),v.m(s,f)):v&&(v.d(1),v=null),d&4){h=c[2];let g;for(g=0;g<h.length;g+=1){const _=Gt(c,h,g);p[g]?(p[g].p(_,d),L(p[g],1)):(p[g]=Wt(_),p[g].c(),L(p[g],1),p[g].m(s,null))}for(vt(),g=h.length;g<p.length;g+=1)y(g);ht()}},i(c){if(!u){L(a.$$.fragment,c);for(let d=0;d<h.length;d+=1)L(p[d]);u=!0}},o(c){j(a.$$.fragment,c),p=p.filter(Boolean);for(let d=0;d<p.length;d+=1)j(p[d]);u=!1},d(c){c&&R(e),t[10](null),c&&R(r),c&&R(n),t[11](null),ge(a),v&&v.d(),Qt(p,c)}}}function Jt(){alert("Connection failed! Please report this issue"),console.error("Connection Failed!")}async function ai(t){return new Promise(e=>setTimeout(e,t))}async function qt(){const t=window.JitsiMeetJS;return typeof t!="undefined"?t:(await ai(100),qt())}function li(t,e,r){let n,o;$e(t,Ie,S=>r(3,o=S));let{isJoined:i=!1}=e,{roomName:a}=e,{jimmiApi:l}=e,{conferencePassword:s=""}=e,f,u,m,v=[];const h=Kt();let p,y;function c(){r(2,n=m.getParticipants())}function d(){for(let S=0;S<v.length;S++)v[S].dispose();m&&m.leave(),u&&u.disconnect()}function E(S){if(S&&(v=S),!!i)for(let I=0;I<v.length;I++)m.addTrack(v[I])}function g(){const S=(I,D,de)=>h("message",new ni(D,m.getParticipantById(I),de,m.sendMessage.bind(m)));m.addEventListener(p.events.conference.PRIVATE_MESSAGE_RECEIVED,(I,D)=>S(I,D,!0)),m.addEventListener(p.events.conference.MESSAGE_RECEIVED,(I,D)=>S(I,D,!1))}async function _(){console.info("Successfully joined conference!"),r(4,i=!0),E();const S=()=>{};m.addEventListener(p.events.conference.MESSAGE_RECEIVED,S),await(D=>new Promise(de=>setTimeout(de,D)))(1e3),m.removeEventListener(p.events.conference.MESSAGE_RECEIVED,S),g()}function F(){console.info("Connection established successfully");const S={startAudioMuted:!1};m=u.initJitsiConference(a.toLowerCase(),S),m.setDisplayName(Se.default.jitsiDisplayName),m.on(p.events.conference.CONFERENCE_JOINED,_),m.on(p.events.conference.USER_JOINED,c),m.on(p.events.conference.USER_LEFT,c),m.on(p.events.conference.DISPLAY_NAME_CHANGED,c),m.join(s)}function $(){console.info("disconnecting!"),u.removeEventListener(p.events.connection.CONNECTION_ESTABLISHED,F),u.removeEventListener(p.events.connection.CONNECTION_FAILED,Jt),u.removeEventListener(p.events.connection.CONNECTION_DISCONNECTED,$)}async function q(S){let I=document.createElement("script");I.src=`https://${S.hosts.domain}/libs/lib-jitsi-meet.min.js`,y==null||y.append(I),p=await qt(),p.setLogLevel(p.logLevels.WARN),window.addEventListener("beforeunload",d),window.addEventListener("unload",d);const D={disableAudioLevels:!0,disableThirdPartyRequests:!0,enableAnalyticsLogging:!1};p.init(D),u=new p.JitsiConnection(void 0,null,S),u.addEventListener(p.events.connection.CONNECTION_ESTABLISHED,F),u.addEventListener(p.events.connection.CONNECTION_FAILED,Jt),u.addEventListener(p.events.connection.CONNECTION_DISCONNECTED,$),u.connect(),p.createLocalTracks({devices:["audio"]}).then(E).catch(de=>{throw de}),r(5,l=new ii(f,this))}function ye(S){m.sendMessage(S)}Yt(()=>{d()});function H(S){V[S?"unshift":"push"](()=>{y=S,r(1,y)})}function T(S){V[S?"unshift":"push"](()=>{f=S,r(0,f)})}return t.$$set=S=>{"isJoined"in S&&r(4,i=S.isJoined),"roomName"in S&&r(6,a=S.roomName),"jimmiApi"in S&&r(5,l=S.jimmiApi),"conferencePassword"in S&&r(7,s=S.conferencePassword)},r(2,n=[]),[f,y,n,o,i,l,a,s,q,ye,H,T]}class si extends Z{constructor(e){super();ee(this,e,li,oi,te,{isJoined:4,roomName:6,jimmiApi:5,conferencePassword:7,joinConference:8,sendMessage:9})}get joinConference(){return this.$$.ctx[8]}get sendMessage(){return this.$$.ctx[9]}}function fi(t){let e,r,n,o,i,a,l,s,f,u,m,v=t[0]("general.leave")+"",h,p,y,c,d,E;return{c(){e=O("header"),r=O("div"),n=O("a"),o=O("img"),a=k(),l=O("span"),l.textContent="JIMMI",s=k(),f=O("nav"),u=k(),m=O("button"),h=me(v),p=k(),y=gt("svg"),c=gt("path"),Be(o.src,i=Se.logo)||w(o,"src",i),w(o,"alt","Logo"),w(o,"class","w-16 h-16"),w(l,"class","ml-3 text-white text-xl font-mono"),w(n,"href",Se.url),w(n,"class","flex title-font font-medium items-center text-gray-900 mb-4 sm:mb-0"),w(f,"class","sm:ml-auto flex flex-wrap items-center text-base justify-center"),w(c,"d","M5 12h14M12 5l7 7-7 7"),w(y,"fill","none"),w(y,"stroke","currentColor"),w(y,"stroke-linecap","round"),w(y,"stroke-linejoin","round"),w(y,"stroke-width","2"),w(y,"class","w-4 h-4 ml-1"),w(y,"viewBox","0 0 24 24"),w(m,"class","inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 sm:mt-0"),w(r,"class","container p-2 mx-auto flex flex-wrap p-1 flex-col sm:flex-row items-center"),w(e,"class","bg-indigo-500 text-lightgray-600 body-font")},m(g,_){M(g,e,_),A(e,r),A(r,n),A(n,o),A(n,a),A(n,l),A(r,s),A(r,f),A(r,u),A(r,m),A(m,h),A(m,p),A(m,y),A(y,c),d||(E=Ge(m,"click",t[1]),d=!0)},p(g,[_]){_&1&&v!==(v=g[0]("general.leave")+"")&&Ce(h,v)},i:re,o:re,d(g){g&&R(e),d=!1,E()}}}function ci(t,e,r){let n;$e(t,Ie,i=>r(0,n=i));function o(){Xt("/")}return[n,o]}class ui extends Z{constructor(e){super();ee(this,e,ci,fi,te,{})}}function pi(t){let e,r,n,o;const i=t[1].default,a=Zt(i,t,t[0],null);return{c(){e=O("div"),r=O("div"),n=k(),a&&a.c(),w(r,"class","ml-5 w-20 h-20 border-4 border-indigo-600 rounded-full loader svelte-1rc6lrp"),w(e,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2")},m(l,s){M(l,e,s),A(e,r),A(e,n),a&&a.m(e,null),o=!0},p(l,[s]){a&&a.p&&(!o||s&1)&&er(a,i,l,l[0],o?rr(i,l[0],s,null):tr(l[0]),null)},i(l){o||(L(a,l),o=!0)},o(l){j(a,l),o=!1},d(l){l&&R(e),a&&a.d(l)}}}function yi(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=i=>{"$$scope"in i&&r(0,o=i.$$scope)},[o,n]}class di extends Z{constructor(e){super();ee(this,e,yi,pi,te,{})}}function Ht(t){let e,r,n;return r=new di({props:{$$slots:{default:[mi]},$$scope:{ctx:t}}}),{c(){e=O("div"),ve(r.$$.fragment),w(e,"class","flex flex-col items-center justify-center")},m(o,i){M(o,e,i),he(r,e,null),n=!0},p(o,i){const a={};i&16416&&(a.$$scope={dirty:i,ctx:o}),r.$set(a)},i(o){n||(L(r.$$.fragment,o),n=!0)},o(o){j(r.$$.fragment,o),n=!1},d(o){o&&R(e),ge(r)}}}function mi(t){let e,r=t[5]("general.connecting")+"",n,o;return{c(){e=O("p"),n=me(r),o=me("..."),w(e,"class","p-5")},m(i,a){M(i,e,a),A(e,n),A(e,o)},p(i,a){a&32&&r!==(r=i[5]("general.connecting")+"")&&Ce(n,r)},d(i){i&&R(e)}}}function vi(t){let e,r,n,o,i,a,l,s,f;e=new ui({});let u=!t[2]&&Ht(t);function m(y){t[9](y)}function v(y){t[10](y)}function h(y){t[11](y)}let p={roomName:t[0].room};return t[2]!==void 0&&(p.isJoined=t[2]),t[3]!==void 0&&(p.jimmiApi=t[3]),t[4].password!==void 0&&(p.conferencePassword=t[4].password),i=new si({props:p}),t[8](i),V.push(()=>Ue(i,"isJoined",m)),V.push(()=>Ue(i,"jimmiApi",v)),V.push(()=>Ue(i,"conferencePassword",h)),i.$on("message",t[6]),{c(){ve(e.$$.fragment),r=k(),u&&u.c(),n=k(),o=O("div"),ve(i.$$.fragment),St(o,"hidden",!t[2])},m(y,c){he(e,y,c),M(y,r,c),u&&u.m(y,c),M(y,n,c),M(y,o,c),he(i,o,null),f=!0},p(y,[c]){y[2]?u&&(vt(),j(u,1,1,()=>{u=null}),ht()):u?(u.p(y,c),c&4&&L(u,1)):(u=Ht(y),u.c(),L(u,1),u.m(n.parentNode,n));const d={};c&1&&(d.roomName=y[0].room),!a&&c&4&&(a=!0,d.isJoined=y[2],We(()=>a=!1)),!l&&c&8&&(l=!0,d.jimmiApi=y[3],We(()=>l=!1)),!s&&c&16&&(s=!0,d.conferencePassword=y[4].password,We(()=>s=!1)),i.$set(d),c&4&&St(o,"hidden",!y[2])},i(y){f||(L(e.$$.fragment,y),L(u),L(i.$$.fragment,y),f=!0)},o(y){j(e.$$.fragment,y),j(u),j(i.$$.fragment,y),f=!1},d(y){ge(e,y),y&&R(r),u&&u.d(y),y&&R(n),y&&R(o),t[8](null),ge(i)}}}function hi(t,e,r){let n,o,i;$e(t,Ie,d=>r(5,o=d)),$e(t,nr,d=>r(7,i=d));let{params:a}=e,l,s,f;const u={};function m(d){if(!f)return;let E=Object.keys(u).reduce((g,_)=>g+=`
${u[_].description||o("general.noDescriptionForCommand")}`,`The following commands are available:
!help - Display this help menu`);d.respond(E)}function v(d){if(d.detail.text.startsWith("!")){let[E]=d.detail.text.split(" ");if(E=E.toLocaleLowerCase(),E==="!help")return m(d.detail);E in u&&u[E].exec(d)}}mt(async()=>{const d={hosts:{domain:a.instance,muc:`conference.${a.instance}`},bosh:`https://${a.instance}/http-bind?room=${a.room}`};await l.joinConference(d);const E=new RegExp(/^\w+$/);Se.plugins.map(g=>new g(f)).forEach(g=>{Object.keys(g.commands||{}).forEach(_=>{const F=`!${_}`;E.test(_)?F in u?console.warn(`Duplicate command: "${F}" provided by plugin "${g.meta.name}" is already used!`):u[F]=new Kn(_,g):console.error(`Invalid command: "${_}" provided by plugin "${g.meta.name}" is not a valid command name!`)})})});function h(d){V[d?"unshift":"push"](()=>{l=d,r(1,l)})}function p(d){s=d,r(2,s)}function y(d){f=d,r(3,f)}function c(d){t.$$.not_equal(n.password,d)&&(n.password=d,r(4,n),r(7,i))}return t.$$set=d=>{"params"in d&&r(0,a=d.params)},t.$$.update=()=>{t.$$.dirty&128&&r(4,n=Qn.parse(i||""))},[a,l,s,f,n,o,v,i,h,p,y,c]}class wi extends Z{constructor(e){super();ee(this,e,hi,vi,te,{params:0})}}export{wi as default};

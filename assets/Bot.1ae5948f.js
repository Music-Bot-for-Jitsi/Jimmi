var ct=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var G=(t,e,r)=>(ct(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},pe=(t,e,r,n)=>(ct(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{E as Wt,S as Y,i as X,s as Z,e as O,F as De,a as w,b as R,l as $e,n as k,f as T,r as Jt,G as ut,H,g as D,t as ye,c as A,d as _e,u as de,v as me,w as $,x as B,z as ve,C as pt,A as yt,J as qt,j as Pe,X as Le,K as Ht,L as Vt,M as dt,q as zt,N as je,O as mt,P as ke,Q as Qt}from"./vendor.1dd66362.js";import{c as ge}from"./index.4934b63a.js";var Kt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},vt=typeof Symbol!="undefined"&&Symbol,Yt=Kt,Xt=function(){return typeof vt!="function"||typeof Symbol!="function"||typeof vt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Yt()},Zt="Function.prototype.bind called on incompatible ",Be=Array.prototype.slice,er=Object.prototype.toString,tr="[object Function]",rr=function(e){var r=this;if(typeof r!="function"||er.call(r)!==tr)throw new TypeError(Zt+r);for(var n=Be.call(arguments,1),o,i=function(){if(this instanceof o){var u=r.apply(this,n.concat(Be.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(Be.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],c=0;c<a;c++)s.push("$"+c);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var l=function(){};l.prototype=r.prototype,o.prototype=new l,l.prototype=null}return o},nr=rr,Ge=Function.prototype.bind||nr,ir=Ge,or=ir.call(Function.call,Object.prototype.hasOwnProperty),b,he=SyntaxError,gt=Function,ee=TypeError,Ue=function(t){try{return gt('"use strict"; return ('+t+").constructor;")()}catch{}},V=Object.getOwnPropertyDescriptor;if(V)try{V({},"")}catch{V=null}var We=function(){throw new ee},ar=V?function(){try{return arguments.callee,We}catch{try{return V(arguments,"callee").get}catch{return We}}}():We,te=Xt(),U=Object.getPrototypeOf||function(t){return t.__proto__},re={},lr=typeof Uint8Array=="undefined"?b:U(Uint8Array),ne={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":te?U([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":gt,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":te?U(U([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!te?b:U(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!te?b:U(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":te?U(""[Symbol.iterator]()):b,"%Symbol%":te?Symbol:b,"%SyntaxError%":he,"%ThrowTypeError%":ar,"%TypedArray%":lr,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},fr=function t(e){var r;if(e==="%AsyncFunction%")r=Ue("async function () {}");else if(e==="%GeneratorFunction%")r=Ue("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ue("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=U(o.prototype))}return ne[e]=r,r},ht={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=Ge,Ne=or,sr=xe.call(Function.call,Array.prototype.concat),cr=xe.call(Function.apply,Array.prototype.splice),St=xe.call(Function.call,String.prototype.replace),Ie=xe.call(Function.call,String.prototype.slice),ur=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pr=/\\(\\)?/g,yr=function(e){var r=Ie(e,0,1),n=Ie(e,-1);if(r==="%"&&n!=="%")throw new he("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new he("invalid intrinsic syntax, expected opening `%`");var o=[];return St(e,ur,function(i,a,s,c){o[o.length]=s?St(c,pr,"$1"):a||i}),o},dr=function(e,r){var n=e,o;if(Ne(ht,n)&&(o=ht[n],n="%"+o[0]+"%"),Ne(ne,n)){var i=ne[n];if(i===re&&(i=fr(n)),typeof i=="undefined"&&!r)throw new ee("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new he("intrinsic "+e+" does not exist!")},Je=function(e,r){if(typeof e!="string"||e.length===0)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ee('"allowMissing" argument must be a boolean');var n=yr(e),o=n.length>0?n[0]:"",i=dr("%"+o+"%",r),a=i.name,s=i.value,c=!1,l=i.alias;l&&(o=l[0],cr(n,sr([0,1],l)));for(var u=1,d=!0;u<n.length;u+=1){var m=n[u],v=Ie(m,0,1),p=Ie(m,-1);if((v==='"'||v==="'"||v==="`"||p==='"'||p==="'"||p==="`")&&v!==p)throw new he("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(c=!0),o+="."+m,a="%"+o+"%",Ne(ne,a))s=ne[a];else if(s!=null){if(!(m in s)){if(!r)throw new ee("base intrinsic for "+e+" exists, but the property is not available.");return}if(V&&u+1>=n.length){var y=V(s,m);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?s=y.get:s=s[m]}else d=Ne(s,m),s=s[m];d&&!c&&(ne[a]=s)}}return s},bt={exports:{}};(function(t){var e=Ge,r=Je,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),s=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}t.exports=function(d){var m=i(e,o,arguments);if(a&&s){var v=a(m,"length");v.configurable&&s(m,"length",{value:1+c(0,d.length-(arguments.length-1))})}return m};var l=function(){return i(e,n,arguments)};s?s(t.exports,"apply",{value:l}):t.exports.apply=l})(bt);var wt=Je,Et=bt.exports,mr=Et(wt("String.prototype.indexOf")),vr=function(e,r){var n=wt(e,!!r);return typeof n=="function"&&mr(e,".prototype.")>-1?Et(n):n},gr={},hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gr}),Sr=Wt(hr),qe=typeof Map=="function"&&Map.prototype,He=Object.getOwnPropertyDescriptor&&qe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ce=qe&&He&&typeof He.get=="function"?He.get:null,br=qe&&Map.prototype.forEach,Ve=typeof Set=="function"&&Set.prototype,ze=Object.getOwnPropertyDescriptor&&Ve?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Fe=Ve&&ze&&typeof ze.get=="function"?ze.get:null,wr=Ve&&Set.prototype.forEach,Er=typeof WeakMap=="function"&&WeakMap.prototype,Se=Er?WeakMap.prototype.has:null,Ar=typeof WeakSet=="function"&&WeakSet.prototype,be=Ar?WeakSet.prototype.has:null,Or=typeof WeakRef=="function"&&WeakRef.prototype,At=Or?WeakRef.prototype.deref:null,_r=Boolean.prototype.valueOf,Pr=Object.prototype.toString,xr=Function.prototype.toString,Nr=String.prototype.match,Qe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ke=Object.getOwnPropertySymbols,Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,we=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ir=Object.prototype.propertyIsEnumerable,Ot=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Xe=Sr.custom,Ze=Xe&&Pt(Xe)?Xe:null,x=typeof Symbol=="function"&&typeof Symbol.toStringTag!="undefined"?Symbol.toStringTag:null,Cr=function t(e,r,n,o){var i=r||{};if(z(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=z(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nt(e,i);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var s=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=s&&s>0&&typeof e=="object")return et(e)?"[Array]":"[Object]";var c=Qr(i,n);if(typeof o=="undefined")o=[];else if(xt(o,e)>=0)return"[Circular]";function l(F,h,I){if(h&&(o=o.slice(),o.push(h)),I){var M={depth:i.depth};return z(i,"quoteStyle")&&(M.quoteStyle=i.quoteStyle),t(F,M,n+1,o)}return t(F,i,n+1,o)}if(typeof e=="function"){var u=Br(e),d=Me(e,l);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(d.length>0?" { "+d.join(", ")+" }":"")}if(Pt(e)){var m=we?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Ye.call(e);return typeof e=="object"&&!we?Ee(m):m}if(Hr(e)){for(var v="<"+String(e.nodeName).toLowerCase(),p=e.attributes||[],y=0;y<p.length;y++)v+=" "+p[y].name+"="+_t(Fr(p[y].value),"double",i);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+String(e.nodeName).toLowerCase()+">",v}if(et(e)){if(e.length===0)return"[]";var f=Me(e,l);return c&&!zr(f)?"["+rt(f,c)+"]":"[ "+f.join(", ")+" ]"}if(Tr(e)){var g=Me(e,l);return g.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+g.join(", ")+" }"}if(typeof e=="object"&&a){if(Ze&&typeof e[Ze]=="function")return e[Ze]();if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Gr(e)){var E=[];return br.call(e,function(F,h){E.push(l(h,e,!0)+" => "+l(F,e))}),It("Map",Ce.call(e),E,c)}if(Jr(e)){var S=[];return wr.call(e,function(F){S.push(l(F,e))}),It("Set",Fe.call(e),S,c)}if(Ur(e))return tt("WeakMap");if(qr(e))return tt("WeakSet");if(Wr(e))return tt("WeakRef");if($r(e))return Ee(l(Number(e)));if(jr(e))return Ee(l(Qe.call(e)));if(Lr(e))return Ee(_r.call(e));if(Dr(e))return Ee(l(String(e)));if(!Mr(e)&&!Rr(e)){var _=Me(e,l),j=Ot?Ot(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",J=!j&&x&&Object(e)===e&&x in e?W(e).slice(8,-1):C?"Object":"",se=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",q=se+(J||C?"["+[].concat(J||[],C||[]).join(": ")+"] ":"");return _.length===0?q+"{}":c?q+"{"+rt(_,c)+"}":q+"{ "+_.join(", ")+" }"}return String(e)};function _t(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Fr(t){return String(t).replace(/"/g,"&quot;")}function et(t){return W(t)==="[object Array]"&&(!x||!(typeof t=="object"&&x in t))}function Mr(t){return W(t)==="[object Date]"&&(!x||!(typeof t=="object"&&x in t))}function Rr(t){return W(t)==="[object RegExp]"&&(!x||!(typeof t=="object"&&x in t))}function Tr(t){return W(t)==="[object Error]"&&(!x||!(typeof t=="object"&&x in t))}function Dr(t){return W(t)==="[object String]"&&(!x||!(typeof t=="object"&&x in t))}function $r(t){return W(t)==="[object Number]"&&(!x||!(typeof t=="object"&&x in t))}function Lr(t){return W(t)==="[object Boolean]"&&(!x||!(typeof t=="object"&&x in t))}function Pt(t){if(we)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ye)return!1;try{return Ye.call(t),!0}catch{}return!1}function jr(t){if(!t||typeof t!="object"||!Qe)return!1;try{return Qe.call(t),!0}catch{}return!1}var kr=Object.prototype.hasOwnProperty||function(t){return t in this};function z(t,e){return kr.call(t,e)}function W(t){return Pr.call(t)}function Br(t){if(t.name)return t.name;var e=Nr.call(xr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function xt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Gr(t){if(!Ce||!t||typeof t!="object")return!1;try{Ce.call(t);try{Fe.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ur(t){if(!Se||!t||typeof t!="object")return!1;try{Se.call(t,Se);try{be.call(t,be)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Wr(t){if(!At||!t||typeof t!="object")return!1;try{return At.call(t),!0}catch{}return!1}function Jr(t){if(!Fe||!t||typeof t!="object")return!1;try{Fe.call(t);try{Ce.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qr(t){if(!be||!t||typeof t!="object")return!1;try{be.call(t,be);try{Se.call(t,Se)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Hr(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Nt(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Nt(t.slice(0,e.maxStringLength),e)+n}var o=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Vr);return _t(o,"single",e)}function Vr(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Ee(t){return"Object("+t+")"}function tt(t){return t+" { ? }"}function It(t,e,r,n){var o=n?rt(r,n):r.join(", ");return t+" ("+e+") {"+o+"}"}function zr(t){for(var e=0;e<t.length;e++)if(xt(t[e],`
`)>=0)return!1;return!0}function Qr(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function rt(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function Me(t,e){var r=et(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=z(t,o)?e(t[o],t):""}var i=typeof Ke=="function"?Ke(t):[],a;if(we){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var c in t)!z(t,c)||r&&String(Number(c))===c&&c<t.length||we&&a["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof Ke=="function")for(var l=0;l<i.length;l++)Ir.call(t,i[l])&&n.push("["+e(i[l])+"]: "+e(t[i[l]],t));return n}var nt=Je,ie=vr,Kr=Cr,Yr=nt("%TypeError%"),Re=nt("%WeakMap%",!0),Te=nt("%Map%",!0),Xr=ie("WeakMap.prototype.get",!0),Zr=ie("WeakMap.prototype.set",!0),en=ie("WeakMap.prototype.has",!0),tn=ie("Map.prototype.get",!0),rn=ie("Map.prototype.set",!0),nn=ie("Map.prototype.has",!0),it=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},on=function(t,e){var r=it(t,e);return r&&r.value},an=function(t,e,r){var n=it(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},ln=function(t,e){return!!it(t,e)},fn=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new Yr("Side channel does not contain "+Kr(i))},get:function(i){if(Re&&i&&(typeof i=="object"||typeof i=="function")){if(e)return Xr(e,i)}else if(Te){if(r)return tn(r,i)}else if(n)return on(n,i)},has:function(i){if(Re&&i&&(typeof i=="object"||typeof i=="function")){if(e)return en(e,i)}else if(Te){if(r)return nn(r,i)}else if(n)return ln(n,i);return!1},set:function(i,a){Re&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Re),Zr(e,i,a)):Te?(r||(r=new Te),rn(r,i,a)):(n||(n={key:{},next:null}),an(n,i,a))}};return o},sn=String.prototype.replace,cn=/%20/g,ot={RFC1738:"RFC1738",RFC3986:"RFC3986"},at={default:ot.RFC3986,formatters:{RFC1738:function(t){return sn.call(t,cn,"+")},RFC3986:function(t){return String(t)}},RFC1738:ot.RFC1738,RFC3986:ot.RFC3986},un=at,lt=Object.prototype.hasOwnProperty,Q=Array.isArray,L=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),pn=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Q(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&o.push(n[i]);r.obj[r.prop]=o}}},Ct=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]!="undefined"&&(n[o]=e[o]);return n},yn=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Q(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!lt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return Q(e)&&!Q(r)&&(o=Ct(e,n)),Q(e)&&Q(r)?(r.forEach(function(i,a){if(lt.call(e,a)){var s=e[a];s&&typeof s=="object"&&i&&typeof i=="object"?e[a]=t(s,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var s=r[a];return lt.call(i,a)?i[a]=t(i[a],s,n):i[a]=s,i},o)},dn=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},mn=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},vn=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var s="",c=0;c<a.length;++c){var l=a.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===un.RFC1738&&(l===40||l===41)){s+=a.charAt(c);continue}if(l<128){s=s+L[l];continue}if(l<2048){s=s+(L[192|l>>6]+L[128|l&63]);continue}if(l<55296||l>=57344){s=s+(L[224|l>>12]+L[128|l>>6&63]+L[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|a.charCodeAt(c)&1023),s+=L[240|l>>18]+L[128|l>>12&63]+L[128|l>>6&63]+L[128|l&63]}return s},gn=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var l=s[c],u=a[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:a,prop:l}),n.push(u))}return pn(r),e},hn=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Sn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bn=function(e,r){return[].concat(e,r)},wn=function(e,r){if(Q(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Ft={arrayToObject:Ct,assign:dn,combine:bn,compact:gn,decode:mn,encode:vn,isBuffer:Sn,isRegExp:hn,maybeMap:wn,merge:yn},Mt=fn,ft=Ft,Ae=at,En=Object.prototype.hasOwnProperty,Rt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},K=Array.isArray,An=Array.prototype.push,Tt=function(t,e){An.apply(t,K(e)?e:[e])},On=Date.prototype.toISOString,Dt=Ae.default,N={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ft.encode,encodeValuesOnly:!1,format:Dt,formatter:Ae.formatters[Dt],indices:!1,serializeDate:function(e){return On.call(e)},skipNulls:!1,strictNullHandling:!1},_n=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pn=function t(e,r,n,o,i,a,s,c,l,u,d,m,v,p,y){var f=e;if(y.has(e))throw new RangeError("Cyclic object value");if(typeof s=="function"?f=s(r,f):f instanceof Date?f=u(f):n==="comma"&&K(f)&&(f=ft.maybeMap(f,function(F){return F instanceof Date?u(F):F})),f===null){if(o)return a&&!v?a(r,N.encoder,p,"key",d):r;f=""}if(_n(f)||ft.isBuffer(f)){if(a){var g=v?r:a(r,N.encoder,p,"key",d);return[m(g)+"="+m(a(f,N.encoder,p,"value",d))]}return[m(r)+"="+m(String(f))]}var E=[];if(typeof f=="undefined")return E;var S;if(n==="comma"&&K(f))S=[{value:f.length>0?f.join(",")||null:void 0}];else if(K(s))S=s;else{var _=Object.keys(f);S=c?_.sort(c):_}for(var j=0;j<S.length;++j){var C=S[j],J=typeof C=="object"&&C.value!==void 0?C.value:f[C];if(!(i&&J===null)){var se=K(f)?typeof n=="function"?n(r,C):r:r+(l?"."+C:"["+C+"]");y.set(e,!0);var q=Mt();Tt(E,t(J,se,n,o,i,a,s,c,l,u,d,m,v,p,q))}}return E},xn=function(e){if(!e)return N;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||N.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ae.default;if(typeof e.format!="undefined"){if(!En.call(Ae.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Ae.formatters[n],i=N.filter;return(typeof e.filter=="function"||K(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:N.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?N.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:N.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?N.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:N.encode,encoder:typeof e.encoder=="function"?e.encoder:N.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:N.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:N.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:N.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:N.strictNullHandling}},Nn=function(t,e){var r=t,n=xn(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):K(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var s;e&&e.arrayFormat in Rt?s=e.arrayFormat:e&&"indices"in e?s=e.indices?"indices":"repeat":s="indices";var c=Rt[s];o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var l=Mt(),u=0;u<o.length;++u){var d=o[u];n.skipNulls&&r[d]===null||Tt(a,Pn(r[d],d,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var m=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},oe=Ft,st=Object.prototype.hasOwnProperty,In=Array.isArray,P={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:oe.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Cn=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$t=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Fn="utf8=%26%2310003%3B",Mn="utf8=%E2%9C%93",Rn=function(e,r){var n={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),s=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===Mn?l="utf-8":a[c]===Fn&&(l="iso-8859-1"),s=c,c=a.length);for(c=0;c<a.length;++c)if(c!==s){var u=a[c],d=u.indexOf("]="),m=d===-1?u.indexOf("="):d+1,v,p;m===-1?(v=r.decoder(u,P.decoder,l,"key"),p=r.strictNullHandling?null:""):(v=r.decoder(u.slice(0,m),P.decoder,l,"key"),p=oe.maybeMap($t(u.slice(m+1),r),function(y){return r.decoder(y,P.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=Cn(p)),u.indexOf("[]=")>-1&&(p=In(p)?[p]:p),st.call(n,v)?n[v]=oe.combine(n[v],p):n[v]=p}return n},Tn=function(t,e,r,n){for(var o=n?e:$t(e,r),i=t.length-1;i>=0;--i){var a,s=t[i];if(s==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=parseInt(c,10);!r.parseArrays&&c===""?a={0:o}:!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[],a[l]=o):a[c]=o}o=a}return o},Dn=function(e,r,n,o){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(i),l=c?i.slice(0,c.index):i,u=[];if(l){if(!n.plainObjects&&st.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var d=0;n.depth>0&&(c=s.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&st.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+i.slice(c.index)+"]"),Tn(u,r,n,o)}},$n=function(e){if(!e)return P;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?P.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?P.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:P.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:P.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:P.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:P.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:P.comma,decoder:typeof e.decoder=="function"?e.decoder:P.decoder,delimiter:typeof e.delimiter=="string"||oe.isRegExp(e.delimiter)?e.delimiter:P.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:P.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:P.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:P.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:P.strictNullHandling}},Ln=function(t,e){var r=$n(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Rn(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var s=i[a],c=Dn(s,n[s],r,typeof t=="string");o=oe.merge(o,c,r)}return r.allowSparse===!0?o:oe.compact(o)},jn=Nn,kn=Ln,Bn=at,Gn={formats:Bn,parse:kn,stringify:jn};function Un(t){let e,r,n,o;return{c(){var i;e=O("audio"),De(e.src,r=((i=t[2])==null?void 0:i.source)||void 0)||w(e,"src",r),w(e,"crossorigin","anonymous"),e.controls=!0},m(i,a){R(i,e,a),t[10](e),n||(o=[$e(e,"canplaythrough",t[9]),$e(e,"ended",t[3])],n=!0)},p(i,[a]){var s;a&4&&!De(e.src,r=((s=i[2])==null?void 0:s.source)||void 0)&&w(e,"src",r)},i:k,o:k,d(i){i&&T(e),t[10](null),n=!1,Jt(o)}}}function Wn(t,e,r){let n,o,i;const a=[];function s(){return Math.floor(o.gain.value*100)}function c(f){o.gain.value=[0,f/100,1].sort()[1]}function l(){const f=new AudioContext,g=f.createMediaElementSource(i);o=f.createGain();const E=f.createMediaStreamDestination();c(ge.default.initialVolume),g.connect(o).connect(E),navigator.mediaDevices.getUserMedia=async function(){return await f.resume(),E.stream}}async function u(f){f?r(2,n=f):await i.play()}function d(){return n}function m(f){r(1,i.currentTime+=f,i)}function v(){a.length>0?u(a.shift()):r(2,n=null)}ut(l);const p=()=>u();function y(f){H[f?"unshift":"push"](()=>{i=f,r(1,i)})}return r(2,n=null),[u,i,n,v,a,s,c,d,m,p,y]}class Jn extends Y{constructor(e){super();X(this,e,Wn,Un,Z,{queue:4,getGain:5,setGain:6,play:0,getCurrentTrack:7,forward:8})}get queue(){return this.$$.ctx[4]}get getGain(){return this.$$.ctx[5]}get setGain(){return this.$$.ctx[6]}get play(){return this.$$.ctx[0]}get getCurrentTrack(){return this.$$.ctx[7]}get forward(){return this.$$.ctx[8]}}function qn(t){let e,r,n,o,i=t[0].getDisplayName()+"",a;return{c(){e=O("div"),r=O("div"),r.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',n=D(),o=O("h2"),a=ye(i),w(r,"class","w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-indigo-500 text-white flex-shrink-0"),w(o,"class","text-gray-900 break-words text-lg title-font font-medium"),w(e,"class","flex items-center mb-3")},m(s,c){R(s,e,c),A(e,r),A(e,n),A(e,o),A(o,a)},p(s,[c]){c&1&&i!==(i=s[0].getDisplayName()+"")&&_e(a,i)},i:k,o:k,d(s){s&&T(e)}}}function Hn(t,e,r){let{participant:n}=e;return t.$$set=o=>{"participant"in o&&r(0,n=o.participant)},[n]}class Vn extends Y{constructor(e){super();X(this,e,Hn,qn,Z,{participant:0})}}var ae,le,fe,Oe;class zn{constructor(e,r,n,o){ue(this,ae,void 0);ue(this,le,void 0);ue(this,fe,void 0);ue(this,Oe,void 0);pe(this,ae,e),pe(this,le,r),pe(this,Oe,n),pe(this,fe,o)}get text(){return G(this,ae)}get params(){const[,...e]=G(this,ae).split(" ");return e}get participant(){return G(this,le)}respond(e){G(this,Oe)?G(this,fe).call(this,e,G(this,le).getId()):G(this,fe).call(this,e)}}ae=new WeakMap,le=new WeakMap,fe=new WeakMap,Oe=new WeakMap;class Qn{constructor(e,r){this.audio=e,this.jitsi=r,this.play.bind(this),this.mute.bind(this),this.unmute.bind(this)}async play(){await this.audio.play(),this.unmute()}mute(){}unmute(){}sendMessage(e){this.jitsi.sendMessage(e)}get queue(){return this.audio.queue}get currentTrack(){return this.audio.getCurrentTrack()}set currentTrack(e){this.audio.play(e)}forward(e){this.audio.forward(e)}get volume(){return this.audio.getGain()}set volume(e){this.audio.setGain(e),e&&this.unmute()}}function Lt(t,e,r){const n=t.slice();return n[24]=e[r],n}function jt(t){let e,r=t[3]("general.participants")+"",n;return{c(){e=O("h1"),n=ye(r),w(e,"class","text-gray-900 text-3xl title-font font-medium mb-4")},m(o,i){R(o,e,i),A(e,n)},p(o,i){i&8&&r!==(r=o[3]("general.participants")+"")&&_e(n,r)},d(o){o&&T(e)}}}function kt(t){let e,r;return e=new Vn({props:{participant:t[24]}}),{c(){de(e.$$.fragment)},m(n,o){me(e,n,o),r=!0},p(n,o){const i={};o&4&&(i.participant=n[24]),e.$set(i)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){B(e.$$.fragment,n),r=!1},d(n){ve(e,n)}}}function Kn(t){let e,r,n,o,i,a,s,c,l,u,d={};a=new Jn({props:d}),t[11](a);let m=t[2].length&&jt(t),v=t[2],p=[];for(let f=0;f<v.length;f+=1)p[f]=kt(Lt(t,v,f));const y=f=>B(p[f],1,1,()=>{p[f]=null});return{c(){e=O("div"),r=D(),n=O("div"),o=O("div"),i=O("div"),de(a.$$.fragment),s=D(),c=O("div"),m&&m.c(),l=D();for(let f=0;f<p.length;f+=1)p[f].c();w(i,"class","w-full sm:w-2/3 md:w-3/4 pt-1 px-2"),w(c,"class","w-full sm:w-1/3 md:w-1/4 px-2"),w(o,"class","flex flex-row flex-wrap py-4"),w(n,"class","container mx-auto")},m(f,g){R(f,e,g),t[10](e),R(f,r,g),R(f,n,g),A(n,o),A(o,i),me(a,i,null),A(o,s),A(o,c),m&&m.m(c,null),A(c,l);for(let E=0;E<p.length;E+=1)p[E].m(c,null);u=!0},p(f,[g]){const E={};if(a.$set(E),f[2].length?m?m.p(f,g):(m=jt(f),m.c(),m.m(c,l)):m&&(m.d(1),m=null),g&4){v=f[2];let S;for(S=0;S<v.length;S+=1){const _=Lt(f,v,S);p[S]?(p[S].p(_,g),$(p[S],1)):(p[S]=kt(_),p[S].c(),$(p[S],1),p[S].m(c,null))}for(pt(),S=v.length;S<p.length;S+=1)y(S);yt()}},i(f){if(!u){$(a.$$.fragment,f);for(let g=0;g<v.length;g+=1)$(p[g]);u=!0}},o(f){B(a.$$.fragment,f),p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)B(p[g]);u=!1},d(f){f&&T(e),t[10](null),f&&T(r),f&&T(n),t[11](null),ve(a),m&&m.d(),qt(p,f)}}}function Bt(){alert("Connection failed! Please report this issue"),console.error("Connection Failed!")}async function Yn(t){return new Promise(e=>setTimeout(e,t))}async function Gt(){const t=window.JitsiMeetJS;return typeof t!="undefined"?t:(await Yn(100),Gt())}function Xn(t,e,r){let n,o;Pe(t,Le,h=>r(3,o=h));let{isJoined:i=!1}=e,{roomName:a}=e,{jimmiApi:s}=e,{conferencePassword:c=""}=e,l,u,d,m=[];const v=Ht();let p,y;function f(){r(2,n=d.getParticipants())}function g(){for(let h=0;h<m.length;h++)m[h].dispose();d&&d.leave(),u&&u.disconnect()}function E(h){if(h&&(m=h),!!i)for(let I=0;I<m.length;I++)d.addTrack(m[I])}function S(){const h=(I,M,ce)=>v("message",new zn(M,d.getParticipantById(I),ce,d.sendMessage.bind(d)));d.addEventListener(p.events.conference.PRIVATE_MESSAGE_RECEIVED,(I,M)=>h(I,M,!0)),d.addEventListener(p.events.conference.MESSAGE_RECEIVED,(I,M)=>h(I,M,!1))}async function _(){console.info("Successfully joined conference!"),r(4,i=!0),E();const h=()=>{};d.addEventListener(p.events.conference.MESSAGE_RECEIVED,h),await(M=>new Promise(ce=>setTimeout(ce,M)))(1e3),d.removeEventListener(p.events.conference.MESSAGE_RECEIVED,h),S()}function j(){console.info("Connection established successfully");const h={startAudioMuted:!1};d=u.initJitsiConference(a.toLowerCase(),h),d.setDisplayName(ge.default.jitsiDisplayName),d.on(p.events.conference.CONFERENCE_JOINED,_),d.on(p.events.conference.USER_JOINED,f),d.on(p.events.conference.USER_LEFT,f),d.on(p.events.conference.DISPLAY_NAME_CHANGED,f),d.join(c)}function C(){console.info("disconnecting!"),u.removeEventListener(p.events.connection.CONNECTION_ESTABLISHED,j),u.removeEventListener(p.events.connection.CONNECTION_FAILED,Bt),u.removeEventListener(p.events.connection.CONNECTION_DISCONNECTED,C)}async function J(h){let I=document.createElement("script");I.src=`https://${h.hosts.domain}/libs/lib-jitsi-meet.min.js`,y==null||y.append(I),p=await Gt(),p.setLogLevel(p.logLevels.WARN),window.addEventListener("beforeunload",g),window.addEventListener("unload",g);const M={disableAudioLevels:!0,disableThirdPartyRequests:!0,enableAnalyticsLogging:!1};p.init(M),u=new p.JitsiConnection(void 0,null,h),u.addEventListener(p.events.connection.CONNECTION_ESTABLISHED,j),u.addEventListener(p.events.connection.CONNECTION_FAILED,Bt),u.addEventListener(p.events.connection.CONNECTION_DISCONNECTED,C),u.connect(),p.createLocalTracks({devices:["audio"]}).then(E).catch(ce=>{throw ce}),r(5,s=new Qn(l,this))}function se(h){d.sendMessage(h)}Vt(()=>{g()});function q(h){H[h?"unshift":"push"](()=>{y=h,r(1,y)})}function F(h){H[h?"unshift":"push"](()=>{l=h,r(0,l)})}return t.$$set=h=>{"isJoined"in h&&r(4,i=h.isJoined),"roomName"in h&&r(6,a=h.roomName),"jimmiApi"in h&&r(5,s=h.jimmiApi),"conferencePassword"in h&&r(7,c=h.conferencePassword)},r(2,n=[]),[l,y,n,o,i,s,a,c,J,se,q,F]}class Zn extends Y{constructor(e){super();X(this,e,Xn,Kn,Z,{isJoined:4,roomName:6,jimmiApi:5,conferencePassword:7,joinConference:8,sendMessage:9})}get joinConference(){return this.$$.ctx[8]}get sendMessage(){return this.$$.ctx[9]}}function ei(t){let e,r,n,o,i,a,s,c,l,u,d,m=t[0]("general.leave")+"",v,p,y,f,g,E;return{c(){e=O("header"),r=O("div"),n=O("a"),o=O("img"),a=D(),s=O("span"),s.textContent="JIMMI",c=D(),l=O("nav"),u=D(),d=O("button"),v=ye(m),p=D(),y=dt("svg"),f=dt("path"),De(o.src,i=ge.logo)||w(o,"src",i),w(o,"alt","Logo"),w(o,"class","w-16 h-16"),w(s,"class","ml-3 text-white text-xl font-mono"),w(n,"href",ge.url),w(n,"class","flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0"),w(l,"class","md:ml-auto flex flex-wrap items-center text-base justify-center"),w(f,"d","M5 12h14M12 5l7 7-7 7"),w(y,"fill","none"),w(y,"stroke","currentColor"),w(y,"stroke-linecap","round"),w(y,"stroke-linejoin","round"),w(y,"stroke-width","2"),w(y,"class","w-4 h-4 ml-1"),w(y,"viewBox","0 0 24 24"),w(d,"class","inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0"),w(r,"class","container p-2 mx-auto flex flex-wrap p-1 flex-col md:flex-row items-center"),w(e,"class","bg-indigo-500 text-lightgray-600 body-font")},m(S,_){R(S,e,_),A(e,r),A(r,n),A(n,o),A(n,a),A(n,s),A(r,c),A(r,l),A(r,u),A(r,d),A(d,v),A(d,p),A(d,y),A(y,f),g||(E=$e(d,"click",t[1]),g=!0)},p(S,[_]){_&1&&m!==(m=S[0]("general.leave")+"")&&_e(v,m)},i:k,o:k,d(S){S&&T(e),g=!1,E()}}}function ti(t,e,r){let n;Pe(t,Le,i=>r(0,n=i));function o(){zt("/")}return[n,o]}class ri extends Y{constructor(e){super();X(this,e,ti,ei,Z,{})}}function ni(t){let e;return{c(){e=O("div"),w(e,"class","w-20 h-20 center border-4 border-indigo-600 rounded-full loader svelte-1mrbjhb")},m(r,n){R(r,e,n)},p:k,i:k,o:k,d(r){r&&T(e)}}}class ii extends Y{constructor(e){super();X(this,e,null,ni,Z,{})}}function Ut(t){let e,r,n,o,i=t[5]("general.connecting")+"",a,s,c;return r=new ii({}),{c(){e=O("div"),de(r.$$.fragment),n=D(),o=O("p"),a=ye(i),s=ye("..."),w(o,"class","p-5"),w(e,"class","flex flex-col items-center justify-center h-full")},m(l,u){R(l,e,u),me(r,e,null),A(e,n),A(e,o),A(o,a),A(o,s),c=!0},p(l,u){(!c||u&32)&&i!==(i=l[5]("general.connecting")+"")&&_e(a,i)},i(l){c||($(r.$$.fragment,l),c=!0)},o(l){B(r.$$.fragment,l),c=!1},d(l){l&&T(e),ve(r)}}}function oi(t){let e,r,n,o,i,a,s,c,l;e=new ri({});let u=!t[2]&&Ut(t);function d(y){t[9](y)}function m(y){t[10](y)}function v(y){t[11](y)}let p={roomName:t[0].room};return t[2]!==void 0&&(p.isJoined=t[2]),t[3]!==void 0&&(p.jimmiApi=t[3]),t[4].password!==void 0&&(p.conferencePassword=t[4].password),i=new Zn({props:p}),t[8](i),H.push(()=>je(i,"isJoined",d)),H.push(()=>je(i,"jimmiApi",m)),H.push(()=>je(i,"conferencePassword",v)),i.$on("message",t[6]),{c(){de(e.$$.fragment),r=D(),u&&u.c(),n=D(),o=O("div"),de(i.$$.fragment),mt(o,"hidden",!t[2])},m(y,f){me(e,y,f),R(y,r,f),u&&u.m(y,f),R(y,n,f),R(y,o,f),me(i,o,null),l=!0},p(y,[f]){y[2]?u&&(pt(),B(u,1,1,()=>{u=null}),yt()):u?(u.p(y,f),f&4&&$(u,1)):(u=Ut(y),u.c(),$(u,1),u.m(n.parentNode,n));const g={};f&1&&(g.roomName=y[0].room),!a&&f&4&&(a=!0,g.isJoined=y[2],ke(()=>a=!1)),!s&&f&8&&(s=!0,g.jimmiApi=y[3],ke(()=>s=!1)),!c&&f&16&&(c=!0,g.conferencePassword=y[4].password,ke(()=>c=!1)),i.$set(g),f&4&&mt(o,"hidden",!y[2])},i(y){l||($(e.$$.fragment,y),$(u),$(i.$$.fragment,y),l=!0)},o(y){B(e.$$.fragment,y),B(u),B(i.$$.fragment,y),l=!1},d(y){ve(e,y),y&&T(r),u&&u.d(y),y&&T(n),y&&T(o),t[8](null),ve(i)}}}function ai(t,e,r){let n,o,i;Pe(t,Qt,f=>r(7,o=f)),Pe(t,Le,f=>r(5,i=f));let{params:a}=e,s,c,l;const u={};function d(f){if(f.detail.text.startsWith("!")){const[g]=f.detail.text.split(" ");g in u&&u[g](f.detail)}}ut(async()=>{const f={hosts:{domain:a.instance,muc:`conference.${a.instance}`},bosh:`https://${a.instance}/http-bind?room=${a.room}`};await s.joinConference(f);const g=new RegExp(/^\w+$/);ge.plugins.map(E=>new E(l)).forEach(E=>{Object.keys(E.commands||{}).forEach(S=>{const _=`!${S}`;g.test(S)?_ in u?console.warn(`Duplicate command: "${_}" provided by plugin "${E.meta.name}" is already used!`):u[_]=E.commands[S]:console.error(`Invalid command: "${S}" provided by plugin "${E.meta.name}" is not a valid command name!`)})})});function m(f){H[f?"unshift":"push"](()=>{s=f,r(1,s)})}function v(f){c=f,r(2,c)}function p(f){l=f,r(3,l)}function y(f){t.$$.not_equal(n.password,f)&&(n.password=f,r(4,n),r(7,o))}return t.$$set=f=>{"params"in f&&r(0,a=f.params)},t.$$.update=()=>{t.$$.dirty&128&&r(4,n=Gn.parse(o))},[a,s,c,l,n,i,d,o,m,v,p,y]}class ci extends Y{constructor(e){super();X(this,e,ai,oi,Z,{params:0})}}export{ci as default};

var ct=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var B=(t,e,r)=>(ct(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},pe=(t,e,r,n)=>(ct(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{E as Wt,S as K,i as Y,s as X,e as _,F as Te,a as w,b as F,l as De,n as Z,f as $,r as Jt,G as ut,H as q,g as D,t as ye,c as A,d as Oe,u as de,v as me,w as T,x as L,z as ve,C as pt,A as yt,J as qt,j as Pe,X as Le,K as Ht,L as Vt,M as dt,q as zt,N as Qt,O as Kt,P as Yt,Q as Xt,T as ke,U as mt,V as je,W as Zt}from"./vendor.0afdd21e.js";import{c as ge}from"./index.621d65b1.js";var er=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},vt=typeof Symbol!="undefined"&&Symbol,tr=er,rr=function(){return typeof vt!="function"||typeof Symbol!="function"||typeof vt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:tr()},nr="Function.prototype.bind called on incompatible ",Be=Array.prototype.slice,ir=Object.prototype.toString,or="[object Function]",ar=function(e){var r=this;if(typeof r!="function"||ir.call(r)!==or)throw new TypeError(nr+r);for(var n=Be.call(arguments,1),o,i=function(){if(this instanceof o){var u=r.apply(this,n.concat(Be.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(Be.call(arguments)))},a=Math.max(0,r.length-n.length),l=[],s=0;s<a;s++)l.push("$"+s);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var c=function(){};c.prototype=r.prototype,o.prototype=new c,c.prototype=null}return o},lr=ar,Ge=Function.prototype.bind||lr,fr=Ge,sr=fr.call(Function.call,Object.prototype.hasOwnProperty),b,he=SyntaxError,gt=Function,ee=TypeError,Ue=function(t){try{return gt('"use strict"; return ('+t+").constructor;")()}catch{}},H=Object.getOwnPropertyDescriptor;if(H)try{H({},"")}catch{H=null}var We=function(){throw new ee},cr=H?function(){try{return arguments.callee,We}catch{try{return H(arguments,"callee").get}catch{return We}}}():We,te=rr(),G=Object.getPrototypeOf||function(t){return t.__proto__},re={},ur=typeof Uint8Array=="undefined"?b:G(Uint8Array),ne={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":te?G([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":re,"%AsyncGenerator%":re,"%AsyncGeneratorFunction%":re,"%AsyncIteratorPrototype%":re,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":gt,"%GeneratorFunction%":re,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":te?G(G([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!te?b:G(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!te?b:G(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":te?G(""[Symbol.iterator]()):b,"%Symbol%":te?Symbol:b,"%SyntaxError%":he,"%ThrowTypeError%":cr,"%TypedArray%":ur,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},pr=function t(e){var r;if(e==="%AsyncFunction%")r=Ue("async function () {}");else if(e==="%GeneratorFunction%")r=Ue("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ue("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=G(o.prototype))}return ne[e]=r,r},ht={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ne=Ge,xe=sr,yr=Ne.call(Function.call,Array.prototype.concat),dr=Ne.call(Function.apply,Array.prototype.splice),St=Ne.call(Function.call,String.prototype.replace),Ie=Ne.call(Function.call,String.prototype.slice),mr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vr=/\\(\\)?/g,gr=function(e){var r=Ie(e,0,1),n=Ie(e,-1);if(r==="%"&&n!=="%")throw new he("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new he("invalid intrinsic syntax, expected opening `%`");var o=[];return St(e,mr,function(i,a,l,s){o[o.length]=l?St(s,vr,"$1"):a||i}),o},hr=function(e,r){var n=e,o;if(xe(ht,n)&&(o=ht[n],n="%"+o[0]+"%"),xe(ne,n)){var i=ne[n];if(i===re&&(i=pr(n)),typeof i=="undefined"&&!r)throw new ee("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new he("intrinsic "+e+" does not exist!")},Je=function(e,r){if(typeof e!="string"||e.length===0)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ee('"allowMissing" argument must be a boolean');var n=gr(e),o=n.length>0?n[0]:"",i=hr("%"+o+"%",r),a=i.name,l=i.value,s=!1,c=i.alias;c&&(o=c[0],dr(n,yr([0,1],c)));for(var u=1,d=!0;u<n.length;u+=1){var m=n[u],v=Ie(m,0,1),p=Ie(m,-1);if((v==='"'||v==="'"||v==="`"||p==='"'||p==="'"||p==="`")&&v!==p)throw new he("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(s=!0),o+="."+m,a="%"+o+"%",xe(ne,a))l=ne[a];else if(l!=null){if(!(m in l)){if(!r)throw new ee("base intrinsic for "+e+" exists, but the property is not available.");return}if(H&&u+1>=n.length){var y=H(l,m);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?l=y.get:l=l[m]}else d=xe(l,m),l=l[m];d&&!s&&(ne[a]=l)}}return l},bt={exports:{}};(function(t){var e=Ge,r=Je,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(d){var m=i(e,o,arguments);if(a&&l){var v=a(m,"length");v.configurable&&l(m,"length",{value:1+s(0,d.length-(arguments.length-1))})}return m};var c=function(){return i(e,n,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(bt);var wt=Je,Et=bt.exports,Sr=Et(wt("String.prototype.indexOf")),br=function(e,r){var n=wt(e,!!r);return typeof n=="function"&&Sr(e,".prototype.")>-1?Et(n):n},wr={},Er=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wr}),Ar=Wt(Er),qe=typeof Map=="function"&&Map.prototype,He=Object.getOwnPropertyDescriptor&&qe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ce=qe&&He&&typeof He.get=="function"?He.get:null,_r=qe&&Map.prototype.forEach,Ve=typeof Set=="function"&&Set.prototype,ze=Object.getOwnPropertyDescriptor&&Ve?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Fe=Ve&&ze&&typeof ze.get=="function"?ze.get:null,Or=Ve&&Set.prototype.forEach,Pr=typeof WeakMap=="function"&&WeakMap.prototype,Se=Pr?WeakMap.prototype.has:null,Nr=typeof WeakSet=="function"&&WeakSet.prototype,be=Nr?WeakSet.prototype.has:null,xr=typeof WeakRef=="function"&&WeakRef.prototype,At=xr?WeakRef.prototype.deref:null,Ir=Boolean.prototype.valueOf,Cr=Object.prototype.toString,Fr=Function.prototype.toString,$r=String.prototype.match,Qe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ke=Object.getOwnPropertySymbols,Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,we=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mr=Object.prototype.propertyIsEnumerable,_t=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Xe=Ar.custom,Ze=Xe&&Pt(Xe)?Xe:null,N=typeof Symbol=="function"&&typeof Symbol.toStringTag!="undefined"?Symbol.toStringTag:null,Rr=function t(e,r,n,o){var i=r||{};if(V(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=V(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return xt(e,i);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var l=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=l&&l>0&&typeof e=="object")return et(e)?"[Array]":"[Object]";var s=Zr(i,n);if(typeof o=="undefined")o=[];else if(Nt(o,e)>=0)return"[Circular]";function c(M,h,I){if(h&&(o=o.slice(),o.push(h)),I){var R={depth:i.depth};return V(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),t(M,R,n+1,o)}return t(M,i,n+1,o)}if(typeof e=="function"){var u=Jr(e),d=$e(e,c);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(d.length>0?" { "+d.join(", ")+" }":"")}if(Pt(e)){var m=we?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Ye.call(e);return typeof e=="object"&&!we?Ee(m):m}if(Kr(e)){for(var v="<"+String(e.nodeName).toLowerCase(),p=e.attributes||[],y=0;y<p.length;y++)v+=" "+p[y].name+"="+Ot(Tr(p[y].value),"double",i);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+String(e.nodeName).toLowerCase()+">",v}if(et(e)){if(e.length===0)return"[]";var f=$e(e,c);return s&&!Xr(f)?"["+rt(f,s)+"]":"[ "+f.join(", ")+" ]"}if(kr(e)){var g=$e(e,c);return g.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+g.join(", ")+" }"}if(typeof e=="object"&&a){if(Ze&&typeof e[Ze]=="function")return e[Ze]();if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(qr(e)){var E=[];return _r.call(e,function(M,h){E.push(c(h,e,!0)+" => "+c(M,e))}),It("Map",Ce.call(e),E,s)}if(zr(e)){var S=[];return Or.call(e,function(M){S.push(c(M,e))}),It("Set",Fe.call(e),S,s)}if(Hr(e))return tt("WeakMap");if(Qr(e))return tt("WeakSet");if(Vr(e))return tt("WeakRef");if(Br(e))return Ee(c(Number(e)));if(Ur(e))return Ee(c(Qe.call(e)));if(Gr(e))return Ee(Ir.call(e));if(jr(e))return Ee(c(String(e)));if(!Dr(e)&&!Lr(e)){var O=$e(e,c),j=_t?_t(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",W=!j&&N&&Object(e)===e&&N in e?U(e).slice(8,-1):C?"Object":"",se=j||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",J=se+(W||C?"["+[].concat(W||[],C||[]).join(": ")+"] ":"");return O.length===0?J+"{}":s?J+"{"+rt(O,s)+"}":J+"{ "+O.join(", ")+" }"}return String(e)};function Ot(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Tr(t){return String(t).replace(/"/g,"&quot;")}function et(t){return U(t)==="[object Array]"&&(!N||!(typeof t=="object"&&N in t))}function Dr(t){return U(t)==="[object Date]"&&(!N||!(typeof t=="object"&&N in t))}function Lr(t){return U(t)==="[object RegExp]"&&(!N||!(typeof t=="object"&&N in t))}function kr(t){return U(t)==="[object Error]"&&(!N||!(typeof t=="object"&&N in t))}function jr(t){return U(t)==="[object String]"&&(!N||!(typeof t=="object"&&N in t))}function Br(t){return U(t)==="[object Number]"&&(!N||!(typeof t=="object"&&N in t))}function Gr(t){return U(t)==="[object Boolean]"&&(!N||!(typeof t=="object"&&N in t))}function Pt(t){if(we)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ye)return!1;try{return Ye.call(t),!0}catch{}return!1}function Ur(t){if(!t||typeof t!="object"||!Qe)return!1;try{return Qe.call(t),!0}catch{}return!1}var Wr=Object.prototype.hasOwnProperty||function(t){return t in this};function V(t,e){return Wr.call(t,e)}function U(t){return Cr.call(t)}function Jr(t){if(t.name)return t.name;var e=$r.call(Fr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Nt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function qr(t){if(!Ce||!t||typeof t!="object")return!1;try{Ce.call(t);try{Fe.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Hr(t){if(!Se||!t||typeof t!="object")return!1;try{Se.call(t,Se);try{be.call(t,be)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Vr(t){if(!At||!t||typeof t!="object")return!1;try{return At.call(t),!0}catch{}return!1}function zr(t){if(!Fe||!t||typeof t!="object")return!1;try{Fe.call(t);try{Ce.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Qr(t){if(!be||!t||typeof t!="object")return!1;try{be.call(t,be);try{Se.call(t,Se)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Kr(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function xt(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return xt(t.slice(0,e.maxStringLength),e)+n}var o=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Yr);return Ot(o,"single",e)}function Yr(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Ee(t){return"Object("+t+")"}function tt(t){return t+" { ? }"}function It(t,e,r,n){var o=n?rt(r,n):r.join(", ");return t+" ("+e+") {"+o+"}"}function Xr(t){for(var e=0;e<t.length;e++)if(Nt(t[e],`
`)>=0)return!1;return!0}function Zr(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function rt(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function $e(t,e){var r=et(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=V(t,o)?e(t[o],t):""}var i=typeof Ke=="function"?Ke(t):[],a;if(we){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var s in t)!V(t,s)||r&&String(Number(s))===s&&s<t.length||we&&a["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t)));if(typeof Ke=="function")for(var c=0;c<i.length;c++)Mr.call(t,i[c])&&n.push("["+e(i[c])+"]: "+e(t[i[c]],t));return n}var nt=Je,ie=br,en=Rr,tn=nt("%TypeError%"),Me=nt("%WeakMap%",!0),Re=nt("%Map%",!0),rn=ie("WeakMap.prototype.get",!0),nn=ie("WeakMap.prototype.set",!0),on=ie("WeakMap.prototype.has",!0),an=ie("Map.prototype.get",!0),ln=ie("Map.prototype.set",!0),fn=ie("Map.prototype.has",!0),it=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},sn=function(t,e){var r=it(t,e);return r&&r.value},cn=function(t,e,r){var n=it(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},un=function(t,e){return!!it(t,e)},pn=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new tn("Side channel does not contain "+en(i))},get:function(i){if(Me&&i&&(typeof i=="object"||typeof i=="function")){if(e)return rn(e,i)}else if(Re){if(r)return an(r,i)}else if(n)return sn(n,i)},has:function(i){if(Me&&i&&(typeof i=="object"||typeof i=="function")){if(e)return on(e,i)}else if(Re){if(r)return fn(r,i)}else if(n)return un(n,i);return!1},set:function(i,a){Me&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Me),nn(e,i,a)):Re?(r||(r=new Re),ln(r,i,a)):(n||(n={key:{},next:null}),cn(n,i,a))}};return o},yn=String.prototype.replace,dn=/%20/g,ot={RFC1738:"RFC1738",RFC3986:"RFC3986"},at={default:ot.RFC3986,formatters:{RFC1738:function(t){return yn.call(t,dn,"+")},RFC3986:function(t){return String(t)}},RFC1738:ot.RFC1738,RFC3986:ot.RFC3986},mn=at,lt=Object.prototype.hasOwnProperty,z=Array.isArray,k=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),vn=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(z(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&o.push(n[i]);r.obj[r.prop]=o}}},Ct=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]!="undefined"&&(n[o]=e[o]);return n},gn=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(z(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!lt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return z(e)&&!z(r)&&(o=Ct(e,n)),z(e)&&z(r)?(r.forEach(function(i,a){if(lt.call(e,a)){var l=e[a];l&&typeof l=="object"&&i&&typeof i=="object"?e[a]=t(l,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var l=r[a];return lt.call(i,a)?i[a]=t(i[a],l,n):i[a]=l,i},o)},hn=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},Sn=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},bn=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var l="",s=0;s<a.length;++s){var c=a.charCodeAt(s);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===mn.RFC1738&&(c===40||c===41)){l+=a.charAt(s);continue}if(c<128){l=l+k[c];continue}if(c<2048){l=l+(k[192|c>>6]+k[128|c&63]);continue}if(c<55296||c>=57344){l=l+(k[224|c>>12]+k[128|c>>6&63]+k[128|c&63]);continue}s+=1,c=65536+((c&1023)<<10|a.charCodeAt(s)&1023),l+=k[240|c>>18]+k[128|c>>12&63]+k[128|c>>6&63]+k[128|c&63]}return l},wn=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],l=Object.keys(a),s=0;s<l.length;++s){var c=l[s],u=a[c];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:a,prop:c}),n.push(u))}return vn(r),e},En=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},An=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},_n=function(e,r){return[].concat(e,r)},On=function(e,r){if(z(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Ft={arrayToObject:Ct,assign:hn,combine:_n,compact:wn,decode:Sn,encode:bn,isBuffer:An,isRegExp:En,maybeMap:On,merge:gn},$t=pn,ft=Ft,Ae=at,Pn=Object.prototype.hasOwnProperty,Mt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Q=Array.isArray,Nn=Array.prototype.push,Rt=function(t,e){Nn.apply(t,Q(e)?e:[e])},xn=Date.prototype.toISOString,Tt=Ae.default,x={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ft.encode,encodeValuesOnly:!1,format:Tt,formatter:Ae.formatters[Tt],indices:!1,serializeDate:function(e){return xn.call(e)},skipNulls:!1,strictNullHandling:!1},In=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Cn=function t(e,r,n,o,i,a,l,s,c,u,d,m,v,p,y){var f=e;if(y.has(e))throw new RangeError("Cyclic object value");if(typeof l=="function"?f=l(r,f):f instanceof Date?f=u(f):n==="comma"&&Q(f)&&(f=ft.maybeMap(f,function(M){return M instanceof Date?u(M):M})),f===null){if(o)return a&&!v?a(r,x.encoder,p,"key",d):r;f=""}if(In(f)||ft.isBuffer(f)){if(a){var g=v?r:a(r,x.encoder,p,"key",d);return[m(g)+"="+m(a(f,x.encoder,p,"value",d))]}return[m(r)+"="+m(String(f))]}var E=[];if(typeof f=="undefined")return E;var S;if(n==="comma"&&Q(f))S=[{value:f.length>0?f.join(",")||null:void 0}];else if(Q(l))S=l;else{var O=Object.keys(f);S=s?O.sort(s):O}for(var j=0;j<S.length;++j){var C=S[j],W=typeof C=="object"&&C.value!==void 0?C.value:f[C];if(!(i&&W===null)){var se=Q(f)?typeof n=="function"?n(r,C):r:r+(c?"."+C:"["+C+"]");y.set(e,!0);var J=$t();Rt(E,t(W,se,n,o,i,a,l,s,c,u,d,m,v,p,J))}}return E},Fn=function(e){if(!e)return x;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||x.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ae.default;if(typeof e.format!="undefined"){if(!Pn.call(Ae.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Ae.formatters[n],i=x.filter;return(typeof e.filter=="function"||Q(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:x.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?x.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:x.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?x.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:x.encode,encoder:typeof e.encoder=="function"?e.encoder:x.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:x.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:x.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:x.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:x.strictNullHandling}},$n=function(t,e){var r=t,n=Fn(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Q(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in Mt?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var s=Mt[l];o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var c=$t(),u=0;u<o.length;++u){var d=o[u];n.skipNulls&&r[d]===null||Rt(a,Cn(r[d],d,s,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=a.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),m.length>0?v+m:""},oe=Ft,st=Object.prototype.hasOwnProperty,Mn=Array.isArray,P={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:oe.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Rn=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Dt=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Tn="utf8=%26%2310003%3B",Dn="utf8=%E2%9C%93",Ln=function(e,r){var n={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),l=-1,s,c=r.charset;if(r.charsetSentinel)for(s=0;s<a.length;++s)a[s].indexOf("utf8=")===0&&(a[s]===Dn?c="utf-8":a[s]===Tn&&(c="iso-8859-1"),l=s,s=a.length);for(s=0;s<a.length;++s)if(s!==l){var u=a[s],d=u.indexOf("]="),m=d===-1?u.indexOf("="):d+1,v,p;m===-1?(v=r.decoder(u,P.decoder,c,"key"),p=r.strictNullHandling?null:""):(v=r.decoder(u.slice(0,m),P.decoder,c,"key"),p=oe.maybeMap(Dt(u.slice(m+1),r),function(y){return r.decoder(y,P.decoder,c,"value")})),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=Rn(p)),u.indexOf("[]=")>-1&&(p=Mn(p)?[p]:p),st.call(n,v)?n[v]=oe.combine(n[v],p):n[v]=p}return n},kn=function(t,e,r,n){for(var o=n?e:Dt(e,r),i=t.length-1;i>=0;--i){var a,l=t[i];if(l==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=parseInt(s,10);!r.parseArrays&&s===""?a={0:o}:!isNaN(c)&&l!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=o):a[s]=o}o=a}return o},jn=function(e,r,n,o){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&a.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!n.plainObjects&&st.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&(s=l.exec(i))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&st.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),kn(u,r,n,o)}},Bn=function(e){if(!e)return P;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?P.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?P.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:P.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:P.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:P.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:P.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:P.comma,decoder:typeof e.decoder=="function"?e.decoder:P.decoder,delimiter:typeof e.delimiter=="string"||oe.isRegExp(e.delimiter)?e.delimiter:P.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:P.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:P.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:P.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:P.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:P.strictNullHandling}},Gn=function(t,e){var r=Bn(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ln(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],s=jn(l,n[l],r,typeof t=="string");o=oe.merge(o,s,r)}return r.allowSparse===!0?o:oe.compact(o)},Un=$n,Wn=Gn,Jn=at,qn={formats:Jn,parse:Wn,stringify:Un};function Hn(t){let e,r,n,o;return{c(){var i;e=_("audio"),Te(e.src,r=((i=t[2])==null?void 0:i.source)||void 0)||w(e,"src",r),w(e,"crossorigin","anonymous"),e.controls=!0},m(i,a){F(i,e,a),t[10](e),n||(o=[De(e,"canplaythrough",t[9]),De(e,"ended",t[3])],n=!0)},p(i,[a]){var l;a&4&&!Te(e.src,r=((l=i[2])==null?void 0:l.source)||void 0)&&w(e,"src",r)},i:Z,o:Z,d(i){i&&$(e),t[10](null),n=!1,Jt(o)}}}function Vn(t,e,r){let n,o,i;const a=[];function l(){return Math.floor(o.gain.value*100)}function s(f){o.gain.value=[0,f/100,1].sort()[1]}function c(){const f=new AudioContext,g=f.createMediaElementSource(i);o=f.createGain();const E=f.createMediaStreamDestination();s(ge.default.initialVolume),g.connect(o).connect(E),navigator.mediaDevices.getUserMedia=async function(){return await f.resume(),E.stream}}async function u(f){f?r(2,n=f):await i.play()}function d(){return n}function m(f){r(1,i.currentTime+=f,i)}function v(){a.length>0?u(a.shift()):r(2,n=null)}ut(c);const p=()=>u();function y(f){q[f?"unshift":"push"](()=>{i=f,r(1,i)})}return r(2,n=null),[u,i,n,v,a,l,s,d,m,p,y]}class zn extends K{constructor(e){super();Y(this,e,Vn,Hn,X,{queue:4,getGain:5,setGain:6,play:0,getCurrentTrack:7,forward:8})}get queue(){return this.$$.ctx[4]}get getGain(){return this.$$.ctx[5]}get setGain(){return this.$$.ctx[6]}get play(){return this.$$.ctx[0]}get getCurrentTrack(){return this.$$.ctx[7]}get forward(){return this.$$.ctx[8]}}function Qn(t){let e,r,n,o,i=t[0].getDisplayName()+"",a;return{c(){e=_("div"),r=_("div"),r.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',n=D(),o=_("h2"),a=ye(i),w(r,"class","w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-indigo-500 text-white flex-shrink-0"),w(o,"class","text-gray-900 break-words text-lg title-font font-medium"),w(e,"class","flex items-center mb-3")},m(l,s){F(l,e,s),A(e,r),A(e,n),A(e,o),A(o,a)},p(l,[s]){s&1&&i!==(i=l[0].getDisplayName()+"")&&Oe(a,i)},i:Z,o:Z,d(l){l&&$(e)}}}function Kn(t,e,r){let{participant:n}=e;return t.$$set=o=>{"participant"in o&&r(0,n=o.participant)},[n]}class Yn extends K{constructor(e){super();Y(this,e,Kn,Qn,X,{participant:0})}}var ae,le,fe,_e;class Xn{constructor(e,r,n,o){ue(this,ae,void 0);ue(this,le,void 0);ue(this,fe,void 0);ue(this,_e,void 0);pe(this,ae,e),pe(this,le,r),pe(this,_e,n),pe(this,fe,o)}get text(){return B(this,ae)}get params(){const[,...e]=B(this,ae).split(" ");return e}get participant(){return B(this,le)}respond(e){B(this,_e)?B(this,fe).call(this,e,B(this,le).getId()):B(this,fe).call(this,e)}}ae=new WeakMap,le=new WeakMap,fe=new WeakMap,_e=new WeakMap;class Zn{constructor(e,r){this.audio=e,this.jitsi=r,this.play.bind(this),this.mute.bind(this),this.unmute.bind(this)}async play(){await this.audio.play(),this.unmute()}mute(){}unmute(){}sendMessage(e){this.jitsi.sendMessage(e)}get queue(){return this.audio.queue}get currentTrack(){return this.audio.getCurrentTrack()}set currentTrack(e){this.audio.play(e)}forward(e){this.audio.forward(e)}get volume(){return this.audio.getGain()}set volume(e){this.audio.setGain(e),e&&this.unmute()}}function Lt(t,e,r){const n=t.slice();return n[24]=e[r],n}function kt(t){let e,r=t[3]("general.participants")+"",n;return{c(){e=_("h1"),n=ye(r),w(e,"class","text-gray-900 text-3xl title-font font-medium mb-4")},m(o,i){F(o,e,i),A(e,n)},p(o,i){i&8&&r!==(r=o[3]("general.participants")+"")&&Oe(n,r)},d(o){o&&$(e)}}}function jt(t){let e,r;return e=new Yn({props:{participant:t[24]}}),{c(){de(e.$$.fragment)},m(n,o){me(e,n,o),r=!0},p(n,o){const i={};o&4&&(i.participant=n[24]),e.$set(i)},i(n){r||(T(e.$$.fragment,n),r=!0)},o(n){L(e.$$.fragment,n),r=!1},d(n){ve(e,n)}}}function ei(t){let e,r,n,o,i,a,l,s,c,u,d={};a=new zn({props:d}),t[11](a);let m=t[2].length&&kt(t),v=t[2],p=[];for(let f=0;f<v.length;f+=1)p[f]=jt(Lt(t,v,f));const y=f=>L(p[f],1,1,()=>{p[f]=null});return{c(){e=_("div"),r=D(),n=_("div"),o=_("div"),i=_("div"),de(a.$$.fragment),l=D(),s=_("div"),m&&m.c(),c=D();for(let f=0;f<p.length;f+=1)p[f].c();w(i,"class","w-full sm:w-2/3 md:w-3/4 pt-1 px-2"),w(s,"class","w-full sm:w-1/3 md:w-1/4 px-2"),w(o,"class","flex flex-row flex-wrap py-4"),w(n,"class","container mx-auto")},m(f,g){F(f,e,g),t[10](e),F(f,r,g),F(f,n,g),A(n,o),A(o,i),me(a,i,null),A(o,l),A(o,s),m&&m.m(s,null),A(s,c);for(let E=0;E<p.length;E+=1)p[E].m(s,null);u=!0},p(f,[g]){const E={};if(a.$set(E),f[2].length?m?m.p(f,g):(m=kt(f),m.c(),m.m(s,c)):m&&(m.d(1),m=null),g&4){v=f[2];let S;for(S=0;S<v.length;S+=1){const O=Lt(f,v,S);p[S]?(p[S].p(O,g),T(p[S],1)):(p[S]=jt(O),p[S].c(),T(p[S],1),p[S].m(s,null))}for(pt(),S=v.length;S<p.length;S+=1)y(S);yt()}},i(f){if(!u){T(a.$$.fragment,f);for(let g=0;g<v.length;g+=1)T(p[g]);u=!0}},o(f){L(a.$$.fragment,f),p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)L(p[g]);u=!1},d(f){f&&$(e),t[10](null),f&&$(r),f&&$(n),t[11](null),ve(a),m&&m.d(),qt(p,f)}}}function Bt(){alert("Connection failed! Please report this issue"),console.error("Connection Failed!")}async function ti(t){return new Promise(e=>setTimeout(e,t))}async function Gt(){const t=window.JitsiMeetJS;return typeof t!="undefined"?t:(await ti(100),Gt())}function ri(t,e,r){let n,o;Pe(t,Le,h=>r(3,o=h));let{isJoined:i=!1}=e,{roomName:a}=e,{jimmiApi:l}=e,{conferencePassword:s=""}=e,c,u,d,m=[];const v=Ht();let p,y;function f(){r(2,n=d.getParticipants())}function g(){for(let h=0;h<m.length;h++)m[h].dispose();d&&d.leave(),u&&u.disconnect()}function E(h){if(h&&(m=h),!!i)for(let I=0;I<m.length;I++)d.addTrack(m[I])}function S(){const h=(I,R,ce)=>v("message",new Xn(R,d.getParticipantById(I),ce,d.sendMessage.bind(d)));d.addEventListener(p.events.conference.PRIVATE_MESSAGE_RECEIVED,(I,R)=>h(I,R,!0)),d.addEventListener(p.events.conference.MESSAGE_RECEIVED,(I,R)=>h(I,R,!1))}async function O(){console.info("Successfully joined conference!"),r(4,i=!0),E();const h=()=>{};d.addEventListener(p.events.conference.MESSAGE_RECEIVED,h),await(R=>new Promise(ce=>setTimeout(ce,R)))(1e3),d.removeEventListener(p.events.conference.MESSAGE_RECEIVED,h),S()}function j(){console.info("Connection established successfully");const h={startAudioMuted:!1};d=u.initJitsiConference(a.toLowerCase(),h),d.setDisplayName(ge.default.jitsiDisplayName),d.on(p.events.conference.CONFERENCE_JOINED,O),d.on(p.events.conference.USER_JOINED,f),d.on(p.events.conference.USER_LEFT,f),d.on(p.events.conference.DISPLAY_NAME_CHANGED,f),d.join(s)}function C(){console.info("disconnecting!"),u.removeEventListener(p.events.connection.CONNECTION_ESTABLISHED,j),u.removeEventListener(p.events.connection.CONNECTION_FAILED,Bt),u.removeEventListener(p.events.connection.CONNECTION_DISCONNECTED,C)}async function W(h){let I=document.createElement("script");I.src=`https://${h.hosts.domain}/libs/lib-jitsi-meet.min.js`,y==null||y.append(I),p=await Gt(),p.setLogLevel(p.logLevels.WARN),window.addEventListener("beforeunload",g),window.addEventListener("unload",g);const R={disableAudioLevels:!0,disableThirdPartyRequests:!0,enableAnalyticsLogging:!1};p.init(R),u=new p.JitsiConnection(void 0,null,h),u.addEventListener(p.events.connection.CONNECTION_ESTABLISHED,j),u.addEventListener(p.events.connection.CONNECTION_FAILED,Bt),u.addEventListener(p.events.connection.CONNECTION_DISCONNECTED,C),u.connect(),p.createLocalTracks({devices:["audio"]}).then(E).catch(ce=>{throw ce}),r(5,l=new Zn(c,this))}function se(h){d.sendMessage(h)}Vt(()=>{g()});function J(h){q[h?"unshift":"push"](()=>{y=h,r(1,y)})}function M(h){q[h?"unshift":"push"](()=>{c=h,r(0,c)})}return t.$$set=h=>{"isJoined"in h&&r(4,i=h.isJoined),"roomName"in h&&r(6,a=h.roomName),"jimmiApi"in h&&r(5,l=h.jimmiApi),"conferencePassword"in h&&r(7,s=h.conferencePassword)},r(2,n=[]),[c,y,n,o,i,l,a,s,W,se,J,M]}class ni extends K{constructor(e){super();Y(this,e,ri,ei,X,{isJoined:4,roomName:6,jimmiApi:5,conferencePassword:7,joinConference:8,sendMessage:9})}get joinConference(){return this.$$.ctx[8]}get sendMessage(){return this.$$.ctx[9]}}function ii(t){let e,r,n,o,i,a,l,s,c,u,d,m=t[0]("general.leave")+"",v,p,y,f,g,E;return{c(){e=_("header"),r=_("div"),n=_("a"),o=_("img"),a=D(),l=_("span"),l.textContent="JIMMI",s=D(),c=_("nav"),u=D(),d=_("button"),v=ye(m),p=D(),y=dt("svg"),f=dt("path"),Te(o.src,i=ge.logo)||w(o,"src",i),w(o,"alt","Logo"),w(o,"class","w-16 h-16"),w(l,"class","ml-3 text-white text-xl font-mono"),w(n,"href",ge.url),w(n,"class","flex title-font font-medium items-center text-gray-900 mb-4 sm:mb-0"),w(c,"class","sm:ml-auto flex flex-wrap items-center text-base justify-center"),w(f,"d","M5 12h14M12 5l7 7-7 7"),w(y,"fill","none"),w(y,"stroke","currentColor"),w(y,"stroke-linecap","round"),w(y,"stroke-linejoin","round"),w(y,"stroke-width","2"),w(y,"class","w-4 h-4 ml-1"),w(y,"viewBox","0 0 24 24"),w(d,"class","inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 sm:mt-0"),w(r,"class","container p-2 mx-auto flex flex-wrap p-1 flex-col sm:flex-row items-center"),w(e,"class","bg-indigo-500 text-lightgray-600 body-font")},m(S,O){F(S,e,O),A(e,r),A(r,n),A(n,o),A(n,a),A(n,l),A(r,s),A(r,c),A(r,u),A(r,d),A(d,v),A(d,p),A(d,y),A(y,f),g||(E=De(d,"click",t[1]),g=!0)},p(S,[O]){O&1&&m!==(m=S[0]("general.leave")+"")&&Oe(v,m)},i:Z,o:Z,d(S){S&&$(e),g=!1,E()}}}function oi(t,e,r){let n;Pe(t,Le,i=>r(0,n=i));function o(){zt("/")}return[n,o]}class ai extends K{constructor(e){super();Y(this,e,oi,ii,X,{})}}function li(t){let e,r,n,o;const i=t[1].default,a=Qt(i,t,t[0],null);return{c(){e=_("div"),r=_("div"),n=D(),a&&a.c(),w(r,"class","ml-5 w-20 h-20 border-4 border-indigo-600 rounded-full loader svelte-1rc6lrp"),w(e,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2")},m(l,s){F(l,e,s),A(e,r),A(e,n),a&&a.m(e,null),o=!0},p(l,[s]){a&&a.p&&(!o||s&1)&&Kt(a,i,l,l[0],o?Xt(i,l[0],s,null):Yt(l[0]),null)},i(l){o||(T(a,l),o=!0)},o(l){L(a,l),o=!1},d(l){l&&$(e),a&&a.d(l)}}}function fi(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=i=>{"$$scope"in i&&r(0,o=i.$$scope)},[o,n]}class si extends K{constructor(e){super();Y(this,e,fi,li,X,{})}}function Ut(t){let e,r,n;return r=new si({props:{$$slots:{default:[ci]},$$scope:{ctx:t}}}),{c(){e=_("div"),de(r.$$.fragment),w(e,"class","flex flex-col items-center justify-center")},m(o,i){F(o,e,i),me(r,e,null),n=!0},p(o,i){const a={};i&8224&&(a.$$scope={dirty:i,ctx:o}),r.$set(a)},i(o){n||(T(r.$$.fragment,o),n=!0)},o(o){L(r.$$.fragment,o),n=!1},d(o){o&&$(e),ve(r)}}}function ci(t){let e,r=t[5]("general.connecting")+"",n,o;return{c(){e=_("p"),n=ye(r),o=ye("..."),w(e,"class","p-5")},m(i,a){F(i,e,a),A(e,n),A(e,o)},p(i,a){a&32&&r!==(r=i[5]("general.connecting")+"")&&Oe(n,r)},d(i){i&&$(e)}}}function ui(t){let e,r,n,o,i,a,l,s,c;e=new ai({});let u=!t[2]&&Ut(t);function d(y){t[9](y)}function m(y){t[10](y)}function v(y){t[11](y)}let p={roomName:t[0].room};return t[2]!==void 0&&(p.isJoined=t[2]),t[3]!==void 0&&(p.jimmiApi=t[3]),t[4].password!==void 0&&(p.conferencePassword=t[4].password),i=new ni({props:p}),t[8](i),q.push(()=>ke(i,"isJoined",d)),q.push(()=>ke(i,"jimmiApi",m)),q.push(()=>ke(i,"conferencePassword",v)),i.$on("message",t[6]),{c(){de(e.$$.fragment),r=D(),u&&u.c(),n=D(),o=_("div"),de(i.$$.fragment),mt(o,"hidden",!t[2])},m(y,f){me(e,y,f),F(y,r,f),u&&u.m(y,f),F(y,n,f),F(y,o,f),me(i,o,null),c=!0},p(y,[f]){y[2]?u&&(pt(),L(u,1,1,()=>{u=null}),yt()):u?(u.p(y,f),f&4&&T(u,1)):(u=Ut(y),u.c(),T(u,1),u.m(n.parentNode,n));const g={};f&1&&(g.roomName=y[0].room),!a&&f&4&&(a=!0,g.isJoined=y[2],je(()=>a=!1)),!l&&f&8&&(l=!0,g.jimmiApi=y[3],je(()=>l=!1)),!s&&f&16&&(s=!0,g.conferencePassword=y[4].password,je(()=>s=!1)),i.$set(g),f&4&&mt(o,"hidden",!y[2])},i(y){c||(T(e.$$.fragment,y),T(u),T(i.$$.fragment,y),c=!0)},o(y){L(e.$$.fragment,y),L(u),L(i.$$.fragment,y),c=!1},d(y){ve(e,y),y&&$(r),u&&u.d(y),y&&$(n),y&&$(o),t[8](null),ve(i)}}}function pi(t,e,r){let n,o,i;Pe(t,Zt,f=>r(7,o=f)),Pe(t,Le,f=>r(5,i=f));let{params:a}=e,l,s,c;const u={};function d(f){if(f.detail.text.startsWith("!")){const[g]=f.detail.text.split(" ");g in u&&u[g](f.detail)}}ut(async()=>{const f={hosts:{domain:a.instance,muc:`conference.${a.instance}`},bosh:`https://${a.instance}/http-bind?room=${a.room}`};await l.joinConference(f);const g=new RegExp(/^\w+$/);ge.plugins.map(E=>new E(c)).forEach(E=>{Object.keys(E.commands||{}).forEach(S=>{const O=`!${S}`;g.test(S)?O in u?console.warn(`Duplicate command: "${O}" provided by plugin "${E.meta.name}" is already used!`):u[O]=E.commands[S]:console.error(`Invalid command: "${S}" provided by plugin "${E.meta.name}" is not a valid command name!`)})})});function m(f){q[f?"unshift":"push"](()=>{l=f,r(1,l)})}function v(f){s=f,r(2,s)}function p(f){c=f,r(3,c)}function y(f){t.$$.not_equal(n.password,f)&&(n.password=f,r(4,n),r(7,o))}return t.$$set=f=>{"params"in f&&r(0,a=f.params)},t.$$.update=()=>{t.$$.dirty&128&&r(4,n=qn.parse(o||""))},[a,l,s,c,n,i,d,o,m,v,p,y]}class vi extends K{constructor(e){super();Y(this,e,pi,ui,X,{params:0})}}export{vi as default};

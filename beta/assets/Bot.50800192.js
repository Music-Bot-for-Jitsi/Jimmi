var vt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var C=(t,e,r)=>(vt(t,e,"read from private field"),r?r.call(t):e.get(t)),G=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},U=(t,e,r,n)=>(vt(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{F as Qt,X as Ce,S as ee,i as te,s as re,e as O,G as Ue,a as w,b as F,l as We,n as ne,f as M,r as Kt,H as ht,J as V,g as L,t as ve,c as _,d as $e,v as he,w as ge,x as T,z as k,A as Se,D as gt,B as St,K as Yt,j as Fe,L as Xt,M as Zt,N as bt,q as er,O as tr,P as rr,Q as nr,T as ir,U as Je,V as wt,W as qe,Y as or}from"./vendor.2bf4959d.js";import{c as be,J as ar}from"./index.48b4e915.js";var lr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},Et=typeof Symbol!="undefined"&&Symbol,fr=lr,sr=function(){return typeof Et!="function"||typeof Symbol!="function"||typeof Et("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fr()},cr="Function.prototype.bind called on incompatible ",He=Array.prototype.slice,ur=Object.prototype.toString,pr="[object Function]",yr=function(e){var r=this;if(typeof r!="function"||ur.call(r)!==pr)throw new TypeError(cr+r);for(var n=He.call(arguments,1),o,i=function(){if(this instanceof o){var u=r.apply(this,n.concat(He.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(He.call(arguments)))},a=Math.max(0,r.length-n.length),l=[],f=0;f<a;f++)l.push("$"+f);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var s=function(){};s.prototype=r.prototype,o.prototype=new s,s.prototype=null}return o},dr=yr,Ve=Function.prototype.bind||dr,mr=Ve,vr=mr.call(Function.call,Object.prototype.hasOwnProperty),b,we=SyntaxError,At=Function,ie=TypeError,ze=function(t){try{return At('"use strict"; return ('+t+").constructor;")()}catch{}},z=Object.getOwnPropertyDescriptor;if(z)try{z({},"")}catch{z=null}var Qe=function(){throw new ie},hr=z?function(){try{return arguments.callee,Qe}catch{try{return z(arguments,"callee").get}catch{return Qe}}}():Qe,oe=sr(),J=Object.getPrototypeOf||function(t){return t.__proto__},ae={},gr=typeof Uint8Array=="undefined"?b:J(Uint8Array),le={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":oe?J([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":ae,"%AsyncGenerator%":ae,"%AsyncGeneratorFunction%":ae,"%AsyncIteratorPrototype%":ae,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":At,"%GeneratorFunction%":ae,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oe?J(J([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!oe?b:J(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!oe?b:J(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oe?J(""[Symbol.iterator]()):b,"%Symbol%":oe?Symbol:b,"%SyntaxError%":we,"%ThrowTypeError%":hr,"%TypedArray%":gr,"%TypeError%":ie,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},Sr=function t(e){var r;if(e==="%AsyncFunction%")r=ze("async function () {}");else if(e==="%GeneratorFunction%")r=ze("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ze("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(r=J(o.prototype))}return le[e]=r,r},_t={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Me=Ve,Re=vr,br=Me.call(Function.call,Array.prototype.concat),wr=Me.call(Function.apply,Array.prototype.splice),Ot=Me.call(Function.call,String.prototype.replace),De=Me.call(Function.call,String.prototype.slice),Er=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ar=/\\(\\)?/g,_r=function(e){var r=De(e,0,1),n=De(e,-1);if(r==="%"&&n!=="%")throw new we("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new we("invalid intrinsic syntax, expected opening `%`");var o=[];return Ot(e,Er,function(i,a,l,f){o[o.length]=l?Ot(f,Ar,"$1"):a||i}),o},Or=function(e,r){var n=e,o;if(Re(_t,n)&&(o=_t[n],n="%"+o[0]+"%"),Re(le,n)){var i=le[n];if(i===ae&&(i=Sr(n)),typeof i=="undefined"&&!r)throw new ie("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new we("intrinsic "+e+" does not exist!")},Ke=function(e,r){if(typeof e!="string"||e.length===0)throw new ie("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ie('"allowMissing" argument must be a boolean');var n=_r(e),o=n.length>0?n[0]:"",i=Or("%"+o+"%",r),a=i.name,l=i.value,f=!1,s=i.alias;s&&(o=s[0],wr(n,br([0,1],s)));for(var u=1,y=!0;u<n.length;u+=1){var m=n[u],h=De(m,0,1),v=De(m,-1);if((h==='"'||h==="'"||h==="`"||v==='"'||v==="'"||v==="`")&&h!==v)throw new we("property names with quotes must have matching quotes");if((m==="constructor"||!y)&&(f=!0),o+="."+m,a="%"+o+"%",Re(le,a))l=le[a];else if(l!=null){if(!(m in l)){if(!r)throw new ie("base intrinsic for "+e+" exists, but the property is not available.");return}if(z&&u+1>=n.length){var p=z(l,m);y=!!p,y&&"get"in p&&!("originalValue"in p.get)?l=p.get:l=l[m]}else y=Re(l,m),l=l[m];y&&!f&&(le[a]=l)}}return l},Pt={exports:{}};(function(t){var e=Ve,r=Ke,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(y){var m=i(e,o,arguments);if(a&&l){var h=a(m,"length");h.configurable&&l(m,"length",{value:1+f(0,y.length-(arguments.length-1))})}return m};var s=function(){return i(e,n,arguments)};l?l(t.exports,"apply",{value:s}):t.exports.apply=s})(Pt);var xt=Ke,Nt=Pt.exports,Pr=Nt(xt("String.prototype.indexOf")),xr=function(e,r){var n=xt(e,!!r);return typeof n=="function"&&Pr(e,".prototype.")>-1?Nt(n):n},Nr={},Ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nr}),Cr=Qt(Ir),Ye=typeof Map=="function"&&Map.prototype,Xe=Object.getOwnPropertyDescriptor&&Ye?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Te=Ye&&Xe&&typeof Xe.get=="function"?Xe.get:null,$r=Ye&&Map.prototype.forEach,Ze=typeof Set=="function"&&Set.prototype,et=Object.getOwnPropertyDescriptor&&Ze?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Le=Ze&&et&&typeof et.get=="function"?et.get:null,Fr=Ze&&Set.prototype.forEach,Mr=typeof WeakMap=="function"&&WeakMap.prototype,Ee=Mr?WeakMap.prototype.has:null,Rr=typeof WeakSet=="function"&&WeakSet.prototype,Ae=Rr?WeakSet.prototype.has:null,Dr=typeof WeakRef=="function"&&WeakRef.prototype,It=Dr?WeakRef.prototype.deref:null,Tr=Boolean.prototype.valueOf,Lr=Object.prototype.toString,kr=Function.prototype.toString,jr=String.prototype.match,tt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rt=Object.getOwnPropertySymbols,nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_e=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Br=Object.prototype.propertyIsEnumerable,Ct=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),it=Cr.custom,ot=it&&Ft(it)?it:null,N=typeof Symbol=="function"&&typeof Symbol.toStringTag!="undefined"?Symbol.toStringTag:null,Gr=function t(e,r,n,o){var i=r||{};if(Q(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Q(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Rt(e,i);if(typeof e=="number")return e===0?1/0/e>0?"0":"-0":String(e);if(typeof e=="bigint")return String(e)+"n";var l=typeof i.depth=="undefined"?5:i.depth;if(typeof n=="undefined"&&(n=0),n>=l&&l>0&&typeof e=="object")return at(e)?"[Array]":"[Object]";var f=ln(i,n);if(typeof o=="undefined")o=[];else if(Mt(o,e)>=0)return"[Circular]";function s(D,Z,S){if(Z&&(o=o.slice(),o.push(Z)),S){var P={depth:i.depth};return Q(i,"quoteStyle")&&(P.quoteStyle=i.quoteStyle),t(D,P,n+1,o)}return t(D,i,n+1,o)}if(typeof e=="function"){var u=Yr(e),y=ke(e,s);return"[Function"+(u?": "+u:" (anonymous)")+"]"+(y.length>0?" { "+y.join(", ")+" }":"")}if(Ft(e)){var m=_e?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):nt.call(e);return typeof e=="object"&&!_e?Oe(m):m}if(nn(e)){for(var h="<"+String(e.nodeName).toLowerCase(),v=e.attributes||[],p=0;p<v.length;p++)h+=" "+v[p].name+"="+$t(Ur(v[p].value),"double",i);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+String(e.nodeName).toLowerCase()+">",h}if(at(e)){if(e.length===0)return"[]";var c=ke(e,s);return f&&!an(c)?"["+ft(c,f)+"]":"[ "+c.join(", ")+" ]"}if(qr(e)){var d=ke(e,s);return d.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+d.join(", ")+" }"}if(typeof e=="object"&&a){if(ot&&typeof e[ot]=="function")return e[ot]();if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Xr(e)){var E=[];return $r.call(e,function(D,Z){E.push(s(Z,e,!0)+" => "+s(D,e))}),Dt("Map",Te.call(e),E,f)}if(tn(e)){var g=[];return Fr.call(e,function(D){g.push(s(D,e))}),Dt("Set",Le.call(e),g,f)}if(Zr(e))return lt("WeakMap");if(rn(e))return lt("WeakSet");if(en(e))return lt("WeakRef");if(Vr(e))return Oe(s(Number(e)));if(Qr(e))return Oe(s(tt.call(e)));if(zr(e))return Oe(Tr.call(e));if(Hr(e))return Oe(s(String(e)));if(!Wr(e)&&!Jr(e)){var A=ke(e,s),R=Ct?Ct(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",W=!R&&N&&Object(e)===e&&N in e?q(e).slice(8,-1):$?"Object":"",de=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=de+(W||$?"["+[].concat(W||[],$||[]).join(": ")+"] ":"");return A.length===0?H+"{}":f?H+"{"+ft(A,f)+"}":H+"{ "+A.join(", ")+" }"}return String(e)};function $t(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ur(t){return String(t).replace(/"/g,"&quot;")}function at(t){return q(t)==="[object Array]"&&(!N||!(typeof t=="object"&&N in t))}function Wr(t){return q(t)==="[object Date]"&&(!N||!(typeof t=="object"&&N in t))}function Jr(t){return q(t)==="[object RegExp]"&&(!N||!(typeof t=="object"&&N in t))}function qr(t){return q(t)==="[object Error]"&&(!N||!(typeof t=="object"&&N in t))}function Hr(t){return q(t)==="[object String]"&&(!N||!(typeof t=="object"&&N in t))}function Vr(t){return q(t)==="[object Number]"&&(!N||!(typeof t=="object"&&N in t))}function zr(t){return q(t)==="[object Boolean]"&&(!N||!(typeof t=="object"&&N in t))}function Ft(t){if(_e)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!nt)return!1;try{return nt.call(t),!0}catch{}return!1}function Qr(t){if(!t||typeof t!="object"||!tt)return!1;try{return tt.call(t),!0}catch{}return!1}var Kr=Object.prototype.hasOwnProperty||function(t){return t in this};function Q(t,e){return Kr.call(t,e)}function q(t){return Lr.call(t)}function Yr(t){if(t.name)return t.name;var e=jr.call(kr.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Mt(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Xr(t){if(!Te||!t||typeof t!="object")return!1;try{Te.call(t);try{Le.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Zr(t){if(!Ee||!t||typeof t!="object")return!1;try{Ee.call(t,Ee);try{Ae.call(t,Ae)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function en(t){if(!It||!t||typeof t!="object")return!1;try{return It.call(t),!0}catch{}return!1}function tn(t){if(!Le||!t||typeof t!="object")return!1;try{Le.call(t);try{Te.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function rn(t){if(!Ae||!t||typeof t!="object")return!1;try{Ae.call(t,Ae);try{Ee.call(t,Ee)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function nn(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Rt(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Rt(t.slice(0,e.maxStringLength),e)+n}var o=t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,on);return $t(o,"single",e)}function on(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Oe(t){return"Object("+t+")"}function lt(t){return t+" { ? }"}function Dt(t,e,r,n){var o=n?ft(r,n):r.join(", ");return t+" ("+e+") {"+o+"}"}function an(t){for(var e=0;e<t.length;e++)if(Mt(t[e],`
`)>=0)return!1;return!0}function ln(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Array(t.indent+1).join(" ");else return null;return{base:r,prev:Array(e+1).join(r)}}function ft(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+t.join(","+r)+`
`+e.prev}function ke(t,e){var r=at(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=Q(t,o)?e(t[o],t):""}var i=typeof rt=="function"?rt(t):[],a;if(_e){a={};for(var l=0;l<i.length;l++)a["$"+i[l]]=i[l]}for(var f in t)!Q(t,f)||r&&String(Number(f))===f&&f<t.length||_e&&a["$"+f]instanceof Symbol||(/[^\w$]/.test(f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t)));if(typeof rt=="function")for(var s=0;s<i.length;s++)Br.call(t,i[s])&&n.push("["+e(i[s])+"]: "+e(t[i[s]],t));return n}var st=Ke,fe=xr,fn=Gr,sn=st("%TypeError%"),je=st("%WeakMap%",!0),Be=st("%Map%",!0),cn=fe("WeakMap.prototype.get",!0),un=fe("WeakMap.prototype.set",!0),pn=fe("WeakMap.prototype.has",!0),yn=fe("Map.prototype.get",!0),dn=fe("Map.prototype.set",!0),mn=fe("Map.prototype.has",!0),ct=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},vn=function(t,e){var r=ct(t,e);return r&&r.value},hn=function(t,e,r){var n=ct(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},gn=function(t,e){return!!ct(t,e)},Sn=function(){var e,r,n,o={assert:function(i){if(!o.has(i))throw new sn("Side channel does not contain "+fn(i))},get:function(i){if(je&&i&&(typeof i=="object"||typeof i=="function")){if(e)return cn(e,i)}else if(Be){if(r)return yn(r,i)}else if(n)return vn(n,i)},has:function(i){if(je&&i&&(typeof i=="object"||typeof i=="function")){if(e)return pn(e,i)}else if(Be){if(r)return mn(r,i)}else if(n)return gn(n,i);return!1},set:function(i,a){je&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new je),un(e,i,a)):Be?(r||(r=new Be),dn(r,i,a)):(n||(n={key:{},next:null}),hn(n,i,a))}};return o},bn=String.prototype.replace,wn=/%20/g,ut={RFC1738:"RFC1738",RFC3986:"RFC3986"},pt={default:ut.RFC3986,formatters:{RFC1738:function(t){return bn.call(t,wn,"+")},RFC3986:function(t){return String(t)}},RFC1738:ut.RFC1738,RFC3986:ut.RFC3986},En=pt,yt=Object.prototype.hasOwnProperty,K=Array.isArray,j=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),An=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(K(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]!="undefined"&&o.push(n[i]);r.obj[r.prop]=o}}},Tt=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)typeof e[o]!="undefined"&&(n[o]=e[o]);return n},_n=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(K(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!yt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return K(e)&&!K(r)&&(o=Tt(e,n)),K(e)&&K(r)?(r.forEach(function(i,a){if(yt.call(e,a)){var l=e[a];l&&typeof l=="object"&&i&&typeof i=="object"?e[a]=t(l,i,n):e.push(i)}else e[a]=i}),e):Object.keys(r).reduce(function(i,a){var l=r[a];return yt.call(i,a)?i[a]=t(i[a],l,n):i[a]=l,i},o)},On=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},Pn=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},xn=function(e,r,n,o,i){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var l="",f=0;f<a.length;++f){var s=a.charCodeAt(f);if(s===45||s===46||s===95||s===126||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===En.RFC1738&&(s===40||s===41)){l+=a.charAt(f);continue}if(s<128){l=l+j[s];continue}if(s<2048){l=l+(j[192|s>>6]+j[128|s&63]);continue}if(s<55296||s>=57344){l=l+(j[224|s>>12]+j[128|s>>6&63]+j[128|s&63]);continue}f+=1,s=65536+((s&1023)<<10|a.charCodeAt(f)&1023),l+=j[240|s>>18]+j[128|s>>12&63]+j[128|s>>6&63]+j[128|s&63]}return l},Nn=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],a=i.obj[i.prop],l=Object.keys(a),f=0;f<l.length;++f){var s=l[f],u=a[s];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:a,prop:s}),n.push(u))}return An(r),e},In=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Cn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},$n=function(e,r){return[].concat(e,r)},Fn=function(e,r){if(K(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Lt={arrayToObject:Tt,assign:On,combine:$n,compact:Nn,decode:Pn,encode:xn,isBuffer:Cn,isRegExp:In,maybeMap:Fn,merge:_n},kt=Sn,dt=Lt,Pe=pt,Mn=Object.prototype.hasOwnProperty,jt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Y=Array.isArray,Rn=Array.prototype.push,Bt=function(t,e){Rn.apply(t,Y(e)?e:[e])},Dn=Date.prototype.toISOString,Gt=Pe.default,I={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:dt.encode,encodeValuesOnly:!1,format:Gt,formatter:Pe.formatters[Gt],indices:!1,serializeDate:function(e){return Dn.call(e)},skipNulls:!1,strictNullHandling:!1},Tn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ln=function t(e,r,n,o,i,a,l,f,s,u,y,m,h,v,p){var c=e;if(p.has(e))throw new RangeError("Cyclic object value");if(typeof l=="function"?c=l(r,c):c instanceof Date?c=u(c):n==="comma"&&Y(c)&&(c=dt.maybeMap(c,function(D){return D instanceof Date?u(D):D})),c===null){if(o)return a&&!h?a(r,I.encoder,v,"key",y):r;c=""}if(Tn(c)||dt.isBuffer(c)){if(a){var d=h?r:a(r,I.encoder,v,"key",y);return[m(d)+"="+m(a(c,I.encoder,v,"value",y))]}return[m(r)+"="+m(String(c))]}var E=[];if(typeof c=="undefined")return E;var g;if(n==="comma"&&Y(c))g=[{value:c.length>0?c.join(",")||null:void 0}];else if(Y(l))g=l;else{var A=Object.keys(c);g=f?A.sort(f):A}for(var R=0;R<g.length;++R){var $=g[R],W=typeof $=="object"&&$.value!==void 0?$.value:c[$];if(!(i&&W===null)){var de=Y(c)?typeof n=="function"?n(r,$):r:r+(s?"."+$:"["+$+"]");p.set(e,!0);var H=kt();Bt(E,t(W,de,n,o,i,a,l,f,s,u,y,m,h,v,H))}}return E},kn=function(e){if(!e)return I;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||I.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Pe.default;if(typeof e.format!="undefined"){if(!Mn.call(Pe.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=Pe.formatters[n],i=I.filter;return(typeof e.filter=="function"||Y(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:I.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?I.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:I.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?I.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:I.encode,encoder:typeof e.encoder=="function"?e.encoder:I.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:I.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:I.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:I.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:I.strictNullHandling}},jn=function(t,e){var r=t,n=kn(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Y(n.filter)&&(i=n.filter,o=i);var a=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in jt?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var f=jt[l];o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var s=kt(),u=0;u<o.length;++u){var y=o[u];n.skipNulls&&r[y]===null||Bt(a,Ln(r[y],y,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,s))}var m=a.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),m.length>0?h+m:""},se=Lt,mt=Object.prototype.hasOwnProperty,Bn=Array.isArray,x={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:se.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Gn=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ut=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Un="utf8=%26%2310003%3B",Wn="utf8=%E2%9C%93",Jn=function(e,r){var n={},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=r.parameterLimit===1/0?void 0:r.parameterLimit,a=o.split(r.delimiter,i),l=-1,f,s=r.charset;if(r.charsetSentinel)for(f=0;f<a.length;++f)a[f].indexOf("utf8=")===0&&(a[f]===Wn?s="utf-8":a[f]===Un&&(s="iso-8859-1"),l=f,f=a.length);for(f=0;f<a.length;++f)if(f!==l){var u=a[f],y=u.indexOf("]="),m=y===-1?u.indexOf("="):y+1,h,v;m===-1?(h=r.decoder(u,x.decoder,s,"key"),v=r.strictNullHandling?null:""):(h=r.decoder(u.slice(0,m),x.decoder,s,"key"),v=se.maybeMap(Ut(u.slice(m+1),r),function(p){return r.decoder(p,x.decoder,s,"value")})),v&&r.interpretNumericEntities&&s==="iso-8859-1"&&(v=Gn(v)),u.indexOf("[]=")>-1&&(v=Bn(v)?[v]:v),mt.call(n,h)?n[h]=se.combine(n[h],v):n[h]=v}return n},qn=function(t,e,r,n){for(var o=n?e:Ut(e,r),i=t.length-1;i>=0;--i){var a,l=t[i];if(l==="[]"&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var f=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,s=parseInt(f,10);!r.parseArrays&&f===""?a={0:o}:!isNaN(s)&&l!==f&&String(s)===f&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[],a[s]=o):a[f]=o}o=a}return o},Hn=function(e,r,n,o){if(!!e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,f=n.depth>0&&a.exec(i),s=f?i.slice(0,f.index):i,u=[];if(s){if(!n.plainObjects&&mt.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var y=0;n.depth>0&&(f=l.exec(i))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&mt.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(f[1])}return f&&u.push("["+i.slice(f.index)+"]"),qn(u,r,n,o)}},Vn=function(e){if(!e)return x;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?x.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?x.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:x.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:x.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:x.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:x.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:x.comma,decoder:typeof e.decoder=="function"?e.decoder:x.decoder,delimiter:typeof e.delimiter=="string"||se.isRegExp(e.delimiter)?e.delimiter:x.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:x.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:x.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:x.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:x.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:x.strictNullHandling}},zn=function(t,e){var r=Vn(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Jn(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],f=Hn(l,n[l],r,typeof t=="string");o=se.merge(o,f,r)}return r.allowSparse===!0?o:se.compact(o)},Qn=jn,Kn=zn,Yn=pt,Xn={formats:Yn,parse:Kn,stringify:Qn},X,xe,Ne,ce;class Zn{constructor(e,r){G(this,X,void 0);G(this,xe,void 0);G(this,Ne,void 0);G(this,ce,void 0);if(U(this,X,e),U(this,xe,r.meta.id),!r.commands)throw new Error("Cannot construct JimmiCommand for plugin without commands");U(this,Ne,r.commands[C(this,X)].bind(r)),Ce.subscribe(n=>U(this,ce,n))}get name(){return C(this,X)}get pluginId(){return C(this,xe)}exec(e){C(this,Ne).call(this,e.detail)}get description(){return C(this,ce)?C(this,ce).call(this,`plugins.${this.pluginId}.commands.${C(this,X)}.usage`):""}}X=new WeakMap,xe=new WeakMap,Ne=new WeakMap,ce=new WeakMap;function ei(t){let e,r,n,o;return{c(){var i;e=O("audio"),Ue(e.src,r=((i=t[2])==null?void 0:i.source)||void 0)||w(e,"src",r),w(e,"crossorigin","anonymous"),e.controls=!0},m(i,a){F(i,e,a),t[10](e),n||(o=[We(e,"canplaythrough",t[9]),We(e,"ended",t[3])],n=!0)},p(i,[a]){var l;a&4&&!Ue(e.src,r=((l=i[2])==null?void 0:l.source)||void 0)&&w(e,"src",r)},i:ne,o:ne,d(i){i&&M(e),t[10](null),n=!1,Kt(o)}}}function ti(t,e,r){let n,o,i;const a=[];function l(){return Math.floor(o.gain.value*100)}function f(c){o.gain.value=[0,c/100,1].sort()[1]}function s(){const c=new AudioContext,d=c.createMediaElementSource(i);o=c.createGain();const E=c.createMediaStreamDestination();f(be.default.initialVolume),d.connect(o).connect(E),navigator.mediaDevices.getUserMedia=async function(){return await c.resume(),E.stream}}async function u(c){c?r(2,n=c):await i.play()}function y(){return n}function m(c){r(1,i.currentTime+=c,i)}function h(){a.length>0?u(a.shift()):r(2,n=null)}ht(s);const v=()=>u();function p(c){V[c?"unshift":"push"](()=>{i=c,r(1,i)})}return r(2,n=null),[u,i,n,h,a,l,f,y,m,v,p]}class ri extends ee{constructor(e){super();te(this,e,ti,ei,re,{queue:4,getGain:5,setGain:6,play:0,getCurrentTrack:7,forward:8})}get queue(){return this.$$.ctx[4]}get getGain(){return this.$$.ctx[5]}get setGain(){return this.$$.ctx[6]}get play(){return this.$$.ctx[0]}get getCurrentTrack(){return this.$$.ctx[7]}get forward(){return this.$$.ctx[8]}}function ni(t){let e,r,n,o,i=t[0].getDisplayName()+"",a;return{c(){e=O("div"),r=O("div"),r.innerHTML='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',n=L(),o=O("h2"),a=ve(i),w(r,"class","w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-indigo-500 text-white flex-shrink-0"),w(o,"class","text-gray-900 break-words text-lg title-font font-medium"),w(e,"class","flex items-center mb-3")},m(l,f){F(l,e,f),_(e,r),_(e,n),_(e,o),_(o,a)},p(l,[f]){f&1&&i!==(i=l[0].getDisplayName()+"")&&$e(a,i)},i:ne,o:ne,d(l){l&&M(e)}}}function ii(t,e,r){let{participant:n}=e;return t.$$set=o=>{"participant"in o&&r(0,n=o.participant)},[n]}class oi extends ee{constructor(e){super();te(this,e,ii,ni,re,{participant:0})}}var ue,pe,ye,Ie;class ai{constructor(e,r,n,o){G(this,ue,void 0);G(this,pe,void 0);G(this,ye,void 0);G(this,Ie,void 0);U(this,ue,e),U(this,pe,r),U(this,Ie,n),U(this,ye,o)}get text(){return C(this,ue)}get params(){const[,...e]=C(this,ue).split(" ");return e}get participant(){return C(this,pe)}respond(e){C(this,Ie)?C(this,ye).call(this,e,C(this,pe).getId()):C(this,ye).call(this,e)}}ue=new WeakMap,pe=new WeakMap,ye=new WeakMap,Ie=new WeakMap;class li{constructor(e,r){this.audio=e,this.conference=r,this.play.bind(this),this.mute.bind(this),this.unmute.bind(this)}async play(){await this.audio.play(),this.unmute()}mute(){}unmute(){}get queue(){return this.audio.queue}get currentTrack(){return this.audio.getCurrentTrack()}set currentTrack(e){this.audio.play(e)}forward(e){this.audio.forward(e)}get volume(){return this.audio.getGain()}set volume(e){this.audio.setGain(e),e&&this.unmute()}}function Wt(t,e,r){const n=t.slice();return n[25]=e[r],n}function Jt(t){let e,r=t[3]("general.participants")+"",n;return{c(){e=O("h1"),n=ve(r),w(e,"class","text-gray-900 text-3xl title-font font-medium mb-4")},m(o,i){F(o,e,i),_(e,n)},p(o,i){i&8&&r!==(r=o[3]("general.participants")+"")&&$e(n,r)},d(o){o&&M(e)}}}function qt(t){let e,r;return e=new oi({props:{participant:t[25]}}),{c(){he(e.$$.fragment)},m(n,o){ge(e,n,o),r=!0},p(n,o){const i={};o&4&&(i.participant=n[25]),e.$set(i)},i(n){r||(T(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){Se(e,n)}}}function fi(t){let e,r,n,o,i,a,l,f,s,u,y={};a=new ri({props:y}),t[11](a);let m=t[2].length&&Jt(t),h=t[2],v=[];for(let c=0;c<h.length;c+=1)v[c]=qt(Wt(t,h,c));const p=c=>k(v[c],1,1,()=>{v[c]=null});return{c(){e=O("div"),r=L(),n=O("div"),o=O("div"),i=O("div"),he(a.$$.fragment),l=L(),f=O("div"),m&&m.c(),s=L();for(let c=0;c<v.length;c+=1)v[c].c();w(i,"class","w-full sm:w-2/3 md:w-3/4 pt-1 px-2"),w(f,"class","w-full sm:w-1/3 md:w-1/4 px-2"),w(o,"class","flex flex-row flex-wrap py-4"),w(n,"class","container mx-auto")},m(c,d){F(c,e,d),t[10](e),F(c,r,d),F(c,n,d),_(n,o),_(o,i),ge(a,i,null),_(o,l),_(o,f),m&&m.m(f,null),_(f,s);for(let E=0;E<v.length;E+=1)v[E].m(f,null);u=!0},p(c,[d]){const E={};if(a.$set(E),c[2].length?m?m.p(c,d):(m=Jt(c),m.c(),m.m(f,s)):m&&(m.d(1),m=null),d&4){h=c[2];let g;for(g=0;g<h.length;g+=1){const A=Wt(c,h,g);v[g]?(v[g].p(A,d),T(v[g],1)):(v[g]=qt(A),v[g].c(),T(v[g],1),v[g].m(f,null))}for(gt(),g=h.length;g<v.length;g+=1)p(g);St()}},i(c){if(!u){T(a.$$.fragment,c);for(let d=0;d<h.length;d+=1)T(v[d]);u=!0}},o(c){k(a.$$.fragment,c),v=v.filter(Boolean);for(let d=0;d<v.length;d+=1)k(v[d]);u=!1},d(c){c&&M(e),t[10](null),c&&M(r),c&&M(n),t[11](null),Se(a),m&&m.d(),Yt(v,c)}}}function Ht(){alert("Connection failed! Please report this issue"),console.error("Connection Failed!")}async function si(t){return new Promise(e=>setTimeout(e,t))}async function Vt(){const t=window.JitsiMeetJS;return typeof t!="undefined"?t:(await si(100),Vt())}function ci(t,e,r){let n,o;Fe(t,Ce,S=>r(3,o=S));let{isJoined:i=!1}=e,{roomName:a}=e,{jimmiApi:l}=e,{conferencePassword:f=""}=e,s,u,y,m=[],h;const v=Xt();let p,c;function d(){r(2,n=y.getParticipants())}function E(){for(let S=0;S<m.length;S++)m[S].dispose();y&&y.leave(),u&&u.disconnect()}function g(S){if(S&&(m=S),!!i)for(let P=0;P<m.length;P++)y.addTrack(m[P])}function A(){const S=(P,B,me)=>v("message",new ai(B,y.getParticipantById(P),me,y.sendMessage.bind(y)));y.addEventListener(p.events.conference.PRIVATE_MESSAGE_RECEIVED,(P,B)=>S(P,B,!0)),y.addEventListener(p.events.conference.MESSAGE_RECEIVED,(P,B)=>S(P,B,!1))}async function R(){console.info("Successfully joined conference!"),h(null),r(4,i=!0),g();const S=()=>{};y.addEventListener(p.events.conference.MESSAGE_RECEIVED,S),await(B=>new Promise(me=>setTimeout(me,B)))(1e3),y.removeEventListener(p.events.conference.MESSAGE_RECEIVED,S),A()}function $(){console.info("Connection established successfully");const S={startAudioMuted:!1};y=u.initJitsiConference(a.toLowerCase(),S),y.setDisplayName(be.default.jitsiDisplayName),y.on(p.events.conference.CONFERENCE_JOINED,R),y.on(p.events.conference.USER_JOINED,d),y.on(p.events.conference.USER_LEFT,d),y.on(p.events.conference.DISPLAY_NAME_CHANGED,d),y.join(f)}function W(){console.info("disconnecting!"),u.removeEventListener(p.events.connection.CONNECTION_ESTABLISHED,$),u.removeEventListener(p.events.connection.CONNECTION_FAILED,Ht),u.removeEventListener(p.events.connection.CONNECTION_DISCONNECTED,W)}async function de(S){let P=document.createElement("script");P.src=`https://${S.hosts.domain}/libs/lib-jitsi-meet.min.js`,c==null||c.append(P),p=await Vt(),p.setLogLevel(p.logLevels.WARN),window.addEventListener("beforeunload",E),window.addEventListener("unload",E);const B={disableAudioLevels:!0,disableThirdPartyRequests:!0,enableAnalyticsLogging:!1},me=new Promise(Ge=>{h=Ge});p.init(B),u=new p.JitsiConnection(void 0,null,S),u.addEventListener(p.events.connection.CONNECTION_ESTABLISHED,$),u.addEventListener(p.events.connection.CONNECTION_FAILED,Ht),u.addEventListener(p.events.connection.CONNECTION_DISCONNECTED,W),u.connect(),p.createLocalTracks({devices:["audio"]}).then(g).catch(Ge=>{throw Ge}),await me,r(5,l=new li(s,y))}function H(S,P){y.addEventListener(S,P)}Zt(()=>{E()});function D(S){V[S?"unshift":"push"](()=>{c=S,r(1,c)})}function Z(S){V[S?"unshift":"push"](()=>{s=S,r(0,s)})}return t.$$set=S=>{"isJoined"in S&&r(4,i=S.isJoined),"roomName"in S&&r(6,a=S.roomName),"jimmiApi"in S&&r(5,l=S.jimmiApi),"conferencePassword"in S&&r(7,f=S.conferencePassword)},r(2,n=[]),[s,c,n,o,i,l,a,f,de,H,D,Z]}class ui extends ee{constructor(e){super();te(this,e,ci,fi,re,{isJoined:4,roomName:6,jimmiApi:5,conferencePassword:7,joinConference:8,addConferenceEventListener:9})}get joinConference(){return this.$$.ctx[8]}get addConferenceEventListener(){return this.$$.ctx[9]}}function pi(t){let e,r,n,o,i,a,l,f,s,u,y,m=t[0]("general.leave")+"",h,v,p,c,d,E;return{c(){e=O("header"),r=O("div"),n=O("a"),o=O("img"),a=L(),l=O("span"),l.textContent="JIMMI",f=L(),s=O("nav"),u=L(),y=O("button"),h=ve(m),v=L(),p=bt("svg"),c=bt("path"),Ue(o.src,i=be.logo)||w(o,"src",i),w(o,"alt","Logo"),w(o,"class","w-16 h-16"),w(l,"class","ml-3 text-white text-xl font-mono"),w(n,"href",be.url),w(n,"class","flex title-font font-medium items-center text-gray-900 mb-4 sm:mb-0"),w(s,"class","sm:ml-auto flex flex-wrap items-center text-base justify-center"),w(c,"d","M5 12h14M12 5l7 7-7 7"),w(p,"fill","none"),w(p,"stroke","currentColor"),w(p,"stroke-linecap","round"),w(p,"stroke-linejoin","round"),w(p,"stroke-width","2"),w(p,"class","w-4 h-4 ml-1"),w(p,"viewBox","0 0 24 24"),w(y,"class","inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 sm:mt-0"),w(r,"class","container p-2 mx-auto flex flex-wrap p-1 flex-col sm:flex-row items-center"),w(e,"class","bg-indigo-500 text-lightgray-600 body-font")},m(g,A){F(g,e,A),_(e,r),_(r,n),_(n,o),_(n,a),_(n,l),_(r,f),_(r,s),_(r,u),_(r,y),_(y,h),_(y,v),_(y,p),_(p,c),d||(E=We(y,"click",t[1]),d=!0)},p(g,[A]){A&1&&m!==(m=g[0]("general.leave")+"")&&$e(h,m)},i:ne,o:ne,d(g){g&&M(e),d=!1,E()}}}function yi(t,e,r){let n;Fe(t,Ce,i=>r(0,n=i));function o(){er("/")}return[n,o]}class di extends ee{constructor(e){super();te(this,e,yi,pi,re,{})}}function mi(t){let e,r,n,o;const i=t[1].default,a=tr(i,t,t[0],null);return{c(){e=O("div"),r=O("div"),n=L(),a&&a.c(),w(r,"class","ml-5 w-20 h-20 border-4 border-indigo-600 rounded-full loader svelte-1rc6lrp"),w(e,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2")},m(l,f){F(l,e,f),_(e,r),_(e,n),a&&a.m(e,null),o=!0},p(l,[f]){a&&a.p&&(!o||f&1)&&rr(a,i,l,l[0],o?ir(i,l[0],f,null):nr(l[0]),null)},i(l){o||(T(a,l),o=!0)},o(l){k(a,l),o=!1},d(l){l&&M(e),a&&a.d(l)}}}function vi(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=i=>{"$$scope"in i&&r(0,o=i.$$scope)},[o,n]}class hi extends ee{constructor(e){super();te(this,e,vi,mi,re,{})}}function zt(t){let e,r,n;return r=new hi({props:{$$slots:{default:[gi]},$$scope:{ctx:t}}}),{c(){e=O("div"),he(r.$$.fragment),w(e,"class","flex flex-col items-center justify-center")},m(o,i){F(o,e,i),ge(r,e,null),n=!0},p(o,i){const a={};i&16416&&(a.$$scope={dirty:i,ctx:o}),r.$set(a)},i(o){n||(T(r.$$.fragment,o),n=!0)},o(o){k(r.$$.fragment,o),n=!1},d(o){o&&M(e),Se(r)}}}function gi(t){let e,r=t[5]("general.connecting")+"",n,o;return{c(){e=O("p"),n=ve(r),o=ve("..."),w(e,"class","p-5")},m(i,a){F(i,e,a),_(e,n),_(e,o)},p(i,a){a&32&&r!==(r=i[5]("general.connecting")+"")&&$e(n,r)},d(i){i&&M(e)}}}function Si(t){let e,r,n,o,i,a,l,f,s;e=new di({});let u=!t[2]&&zt(t);function y(p){t[9](p)}function m(p){t[10](p)}function h(p){t[11](p)}let v={roomName:t[0].room};return t[2]!==void 0&&(v.isJoined=t[2]),t[3]!==void 0&&(v.jimmiApi=t[3]),t[4].password!==void 0&&(v.conferencePassword=t[4].password),i=new ui({props:v}),t[8](i),V.push(()=>Je(i,"isJoined",y)),V.push(()=>Je(i,"jimmiApi",m)),V.push(()=>Je(i,"conferencePassword",h)),i.$on("message",t[6]),{c(){he(e.$$.fragment),r=L(),u&&u.c(),n=L(),o=O("div"),he(i.$$.fragment),wt(o,"hidden",!t[2])},m(p,c){ge(e,p,c),F(p,r,c),u&&u.m(p,c),F(p,n,c),F(p,o,c),ge(i,o,null),s=!0},p(p,[c]){p[2]?u&&(gt(),k(u,1,1,()=>{u=null}),St()):u?(u.p(p,c),c&4&&T(u,1)):(u=zt(p),u.c(),T(u,1),u.m(n.parentNode,n));const d={};c&1&&(d.roomName=p[0].room),!a&&c&4&&(a=!0,d.isJoined=p[2],qe(()=>a=!1)),!l&&c&8&&(l=!0,d.jimmiApi=p[3],qe(()=>l=!1)),!f&&c&16&&(f=!0,d.conferencePassword=p[4].password,qe(()=>f=!1)),i.$set(d),c&4&&wt(o,"hidden",!p[2])},i(p){s||(T(e.$$.fragment,p),T(u),T(i.$$.fragment,p),s=!0)},o(p){k(e.$$.fragment,p),k(u),k(i.$$.fragment,p),s=!1},d(p){Se(e,p),p&&M(r),u&&u.d(p),p&&M(n),p&&M(o),t[8](null),Se(i)}}}function bi(t,e,r){let n,o,i;Fe(t,Ce,d=>r(5,o=d)),Fe(t,or,d=>r(7,i=d));let{params:a}=e,l,f,s;const u={};function y(d){if(!s)return;let E=Object.keys(u).reduce((g,A)=>g+=`
${u[A].description||o("general.noDescriptionForCommand")}`,`The following commands are available:
!help - Display this help menu`);d.respond(E)}function m(d){if(d.detail.text.startsWith("!")){let[E]=d.detail.text.split(" ");if(E=E.toLocaleLowerCase(),E==="!help")return y(d.detail);E in u&&u[E].exec(d)}}ht(async()=>{const d={hosts:{domain:a.instance,muc:`conference.${a.instance}`},bosh:`https://${a.instance}/http-bind?room=${a.room}`};await l.joinConference(d);const E=new RegExp(/^\w+$/);be.plugins.map(g=>new g(s)).forEach(g=>{Object.keys(g.commands||{}).forEach(A=>{const R=`!${A}`;E.test(A)?R in u?console.warn(`Duplicate command: "${R}" provided by plugin "${g.meta.id}" is already used!`):u[R]=new Zn(A,g):console.error(`Invalid command: "${A}" provided by plugin "${g.meta.id}" is not a valid command name!`)}),Object.keys(g.events||{}).forEach(A=>{Object.values(ar).includes(A)?l.addConferenceEventListener(A,g.events[A].bind(g)):console.error(`Invalid jitsi conference event: ${A} provided by plugin "${g.meta.id}"`)})})});function h(d){V[d?"unshift":"push"](()=>{l=d,r(1,l)})}function v(d){f=d,r(2,f)}function p(d){s=d,r(3,s)}function c(d){t.$$.not_equal(n.password,d)&&(n.password=d,r(4,n),r(7,i))}return t.$$set=d=>{"params"in d&&r(0,a=d.params)},t.$$.update=()=>{t.$$.dirty&128&&r(4,n=Xn.parse(i||""))},[a,l,f,s,n,o,m,i,h,v,p,c]}class _i extends ee{constructor(e){super();te(this,e,bi,Si,re,{params:0})}}export{_i as default};
